
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Bibox API文档(v3.1)</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-1df89a6c.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-628c1a7f.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e033bdd3.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <header>
      <div class="flex_box">
        <img src="images/logo-5720d610.png" class="logo" alt="" />
        <div class="nav_box">
          <span class="nav_cell nav_tab">
            <a href="/v3/spot/zh/" id="btn_spot">现货</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/v3/contract/zh/" id="btn_contract">U本位永续合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/v3/bc/zh/" id="btn_contract_coin">币本位永续合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="https://biboxcom.github.io/zh-hans/" id="btn_v1">Use V1 Api?</a>
          </span>
        </div>
      </div>
      <a href="/v3/spot/en/" class="lang" id="lang_box">English</a>
    </header>
    <div class="toc-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="API简介">API简介</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1" class="toc-h2 toc-link" data-title="1.签名接口请求方式">1.签名接口请求方式</a>
                  </li>
                  <li>
                    <a href="#2" class="toc-h2 toc-link" data-title="2.网络测试">2.网络测试</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#fcdd3d55d0" class="toc-h1 toc-link" data-title="市场行情">市场行情</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#3" class="toc-h2 toc-link" data-title="3.查询交易对">3.查询交易对</a>
                  </li>
                  <li>
                    <a href="#4-k" class="toc-h2 toc-link" data-title="4.查询k线">4.查询k线</a>
                  </li>
                  <li>
                    <a href="#5" class="toc-h2 toc-link" data-title="5.查询全币种市场行情">5.查询全币种市场行情</a>
                  </li>
                  <li>
                    <a href="#6" class="toc-h2 toc-link" data-title="6.查询单币种市场行情">6.查询单币种市场行情</a>
                  </li>
                  <li>
                    <a href="#7" class="toc-h2 toc-link" data-title="7.查询市场深度">7.查询市场深度</a>
                  </li>
                  <li>
                    <a href="#8" class="toc-h2 toc-link" data-title="8.查询成交记录">8.查询成交记录</a>
                  </li>
                  <li>
                    <a href="#9-ticker" class="toc-h2 toc-link" data-title="9.查询市场ticker">9.查询市场ticker</a>
                  </li>
                  <li>
                    <a href="#10" class="toc-h2 toc-link" data-title="10.下单限制信息">10.下单限制信息</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#apikey" class="toc-h1 toc-link" data-title="资产信息(需要ApiKey)">资产信息(需要ApiKey)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#11" class="toc-h2 toc-link" data-title="11.币币账户资产">11.币币账户资产</a>
                  </li>
                  <li>
                    <a href="#12" class="toc-h2 toc-link" data-title="12.充值">12.充值</a>
                  </li>
                  <li>
                    <a href="#13" class="toc-h2 toc-link" data-title="13.提现">13.提现</a>
                  </li>
                  <li>
                    <a href="#14" class="toc-h2 toc-link" data-title="14.查询充值记录">14.查询充值记录</a>
                  </li>
                  <li>
                    <a href="#15" class="toc-h2 toc-link" data-title="15.查询提现记录">15.查询提现记录</a>
                  </li>
                  <li>
                    <a href="#16" class="toc-h2 toc-link" data-title="16.获取币种配置">16.获取币种配置</a>
                  </li>
                  <li>
                    <a href="#17" class="toc-h2 toc-link" data-title="17.查询某一条提现记录">17.查询某一条提现记录</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#apikey-2" class="toc-h1 toc-link" data-title="币币交易(需要ApiKey)">币币交易(需要ApiKey)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#18" class="toc-h2 toc-link" data-title="18.下单">18.下单</a>
                  </li>
                  <li>
                    <a href="#19" class="toc-h2 toc-link" data-title="19.撤单">19.撤单</a>
                  </li>
                  <li>
                    <a href="#20" class="toc-h2 toc-link" data-title="20.当前委托">20.当前委托</a>
                  </li>
                  <li>
                    <a href="#21" class="toc-h2 toc-link" data-title="21.历史委托">21.历史委托</a>
                  </li>
                  <li>
                    <a href="#22" class="toc-h2 toc-link" data-title="22.成交记录">22.成交记录</a>
                  </li>
                  <li>
                    <a href="#23" class="toc-h2 toc-link" data-title="23.委托单详情">23.委托单详情</a>
                  </li>
                  <li>
                    <a href="#24" class="toc-h2 toc-link" data-title="24.成交明细">24.成交明细</a>
                  </li>
                  <li>
                    <a href="#25" class="toc-h2 toc-link" data-title="25.最新成交明细">25.最新成交明细</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#apikey-3" class="toc-h1 toc-link" data-title="资金划转(需要ApiKey)">资金划转(需要ApiKey)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#04f74bcc43" class="toc-h2 toc-link" data-title="钱包划转到币币">钱包划转到币币</a>
                  </li>
                  <li>
                    <a href="#94bcda217a" class="toc-h2 toc-link" data-title="钱包划转到杠杆">钱包划转到杠杆</a>
                  </li>
                  <li>
                    <a href="#697d16ed90" class="toc-h2 toc-link" data-title="杠杆划转到钱包">杠杆划转到钱包</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#apikey-4" class="toc-h1 toc-link" data-title="杠杆交易(需要ApiKey)">杠杆交易(需要ApiKey)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#521f87f13e" class="toc-h2 toc-link" data-title="获取放贷信息">获取放贷信息</a>
                  </li>
                  <li>
                    <a href="#09ee9c4ed8" class="toc-h2 toc-link" data-title="获取借款信息">获取借款信息</a>
                  </li>
                  <li>
                    <a href="#26797dae7c" class="toc-h2 toc-link" data-title="获取放贷未成交信息">获取放贷未成交信息</a>
                  </li>
                  <li>
                    <a href="#79e1198687" class="toc-h2 toc-link" data-title="获取放贷资产信息">获取放贷资产信息</a>
                  </li>
                  <li>
                    <a href="#f63c173fba" class="toc-h2 toc-link" data-title="获取借款资产信息">获取借款资产信息</a>
                  </li>
                  <li>
                    <a href="#d923307ccf" class="toc-h2 toc-link" data-title="借款">借款</a>
                  </li>
                  <li>
                    <a href="#a9af9c2d42" class="toc-h2 toc-link" data-title="还款">还款</a>
                  </li>
                  <li>
                    <a href="#dd6f684982" class="toc-h2 toc-link" data-title="发布放贷单">发布放贷单</a>
                  </li>
                  <li>
                    <a href="#e5f9383c76" class="toc-h2 toc-link" data-title="撤销放贷单">撤销放贷单</a>
                  </li>
                  <li>
                    <a href="#6ead73496b" class="toc-h2 toc-link" data-title="信用账户下单">信用账户下单</a>
                  </li>
                  <li>
                    <a href="#ee537408ce" class="toc-h2 toc-link" data-title="信用账户撤单">信用账户撤单</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket" class="toc-h1 toc-link" data-title="WebSocket">WebSocket</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#kline" class="toc-h2 toc-link" data-title="订阅 Kline 数据">订阅 Kline 数据</a>
                  </li>
                  <li>
                    <a href="#market" class="toc-h2 toc-link" data-title="订阅 Market 数据">订阅 Market 数据</a>
                  </li>
                  <li>
                    <a href="#depth" class="toc-h2 toc-link" data-title="订阅 Depth 数据">订阅 Depth 数据</a>
                  </li>
                  <li>
                    <a href="#deals" class="toc-h2 toc-link" data-title="订阅 Deals 数据">订阅 Deals 数据</a>
                  </li>
                  <li>
                    <a href="#ticker" class="toc-h2 toc-link" data-title="订阅 Ticker 数据">订阅 Ticker 数据</a>
                  </li>
                  <li>
                    <a href="#b16a0fda36" class="toc-h2 toc-link" data-title="订阅用户数据方法">订阅用户数据方法</a>
                  </li>
                  <li>
                    <a href="#94d36f91c3" class="toc-h2 toc-link" data-title="订阅用户数据解析币币资产">订阅用户数据解析币币资产</a>
                  </li>
                  <li>
                    <a href="#7cf1beb640" class="toc-h2 toc-link" data-title="订阅用户数据解析信用资产">订阅用户数据解析信用资产</a>
                  </li>
                  <li>
                    <a href="#8f20335c84" class="toc-h2 toc-link" data-title="订阅用户数据解析币币委托单">订阅用户数据解析币币委托单</a>
                  </li>
                  <li>
                    <a href="#0562f6517b" class="toc-h2 toc-link" data-title="订阅用户数据解析币币成交详情">订阅用户数据解析币币成交详情</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.bibox.com'>开始交易</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='api'>API简介</h1><h2 id='1'>1.签名接口请求方式</h2>
<blockquote>
<p>完整例子</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">// 2.请求的参数</span>
    <span class="na">select</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/transfer/assets</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li><p>1.获取当前时间戳timestamp</p></li>
<li><p>2.了解接口请求需要的参数param，并格式化参数，得出strParam</p></li>
<li><p>3.根据生成需要签名的字符串strToSign</p></li>
<li><p>4.用apikey的密码secret，对需要签名的字符串strToSign进行 HmacMD5 加密签名</p></li>
<li><p>5.请求的时候，设置http headers 的以下字段</p></li>
</ul>

<table><thead>
<tr>
<th>字段名</th>
<th>类型</th>
<th>描述</th>
<th>取值</th>
</tr>
</thead><tbody>
<tr>
<td>content-type</td>
<td>string</td>
<td></td>
<td>&#39;application/json&#39;</td>
</tr>
<tr>
<td>bibox-api-key</td>
<td>string</td>
<td>你的apikey</td>
<td></td>
</tr>
<tr>
<td>bibox-timestamp</td>
<td>long</td>
<td>当前时间戳，用毫秒表示</td>
<td>timestamp</td>
</tr>
<tr>
<td>bibox-api-sign</td>
<td>string</td>
<td>签名结果</td>
<td>sign</td>
</tr>
</tbody></table>

<ul>
<li><p>6.请求的时候，设置 http body 为格式化后的请求参数 strParam </p></li>
<li><p>7.返回值含有字段state, 0表示成功, 其他错误码, 表示失败。成功的结果会有对应的字段result，失败的结果会有对应的字段msg。</p></li>
</ul>
<h2 id='2'>2.网络测试</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3/mdata/ping</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">request</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> 
    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>
</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>GET https://api.bibox.com/v3/mdata/ping</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="mi">1604319540420</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"ping"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ver"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>result</td>
<td>服务器时间戳</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h1 id='fcdd3d55d0'>市场行情</h1><h2 id='3'>3.查询交易对</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3/mdata/pairList</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">request</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> 
    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>
</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>GET https://api.bibox.com/v3/mdata/pairList</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BIX_BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pair_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"area_id"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_hide"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"decimal"</span><span class="p">:</span><span class="mi">8</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BIX_ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pair_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"area_id"</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_hide"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"decimal"</span><span class="p">:</span><span class="mi">8</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"pairList"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ver"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>id</td>
<td>交易对id</td>
</tr>
<tr>
<td>pair</td>
<td>交易对symbol</td>
</tr>
<tr>
<td>decimal</td>
<td>价格精度</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='4-k'>4.查询k线</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3/mdata/kline?pair=BTC_USDT&amp;period=1min&amp;size=2</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">request</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> 
    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>
</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>GET https://api.bibox.com/v3/mdata/kline?pair=BTC_USDT&amp;period=1min&amp;size=10</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, ETH_BTC, ...</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>k线周期</td>
<td></td>
<td>&#39;1min&#39;, &#39;3min&#39;, &#39;5min&#39;, &#39;15min&#39;, &#39;30min&#39;, &#39;1hour&#39;, &#39;2hour&#39;, &#39;4hour&#39;, &#39;6hour&#39;, &#39;12hour&#39;, &#39;day&#39;, &#39;week&#39;</td>
</tr>
<tr>
<td>size</td>
<td>false</td>
<td>integer</td>
<td>数量</td>
<td>1000</td>
<td>1-1000</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"time"</span><span class="p">:</span><span class="mi">1604319840000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"11700.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"11700.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"11700.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"11700.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"time"</span><span class="p">:</span><span class="mi">1604319900000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"11700.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"11700.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"11700.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"11700.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"kline"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ver"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>time</td>
<td>时间戳</td>
</tr>
<tr>
<td>open</td>
<td>开盘价</td>
</tr>
<tr>
<td>high</td>
<td>最高价</td>
</tr>
<tr>
<td>low</td>
<td>最低价</td>
</tr>
<tr>
<td>close</td>
<td>收盘价</td>
</tr>
<tr>
<td>vol</td>
<td>成交量</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='5'>5.查询全币种市场行情</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3/mdata/marketAll</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">request</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> 
    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>
</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>GET https://api.bibox.com/v3/mdata/marketAll</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"is_hide"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high_cny"</span><span class="p">:</span><span class="s2">"0.3668"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"380746.08"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"0.053142"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"change"</span><span class="p">:</span><span class="s2">"+0.000460"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low_cny"</span><span class="p">:</span><span class="s2">"0.3470"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base_last_cny"</span><span class="p">:</span><span class="s2">"0.35286384"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"area_id"</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nl">"percent"</span><span class="p">:</span><span class="s2">"+0.87%"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last_cny"</span><span class="p">:</span><span class="s2">"0.3529"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"0.055248"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"0.052253"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pair_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last_usd"</span><span class="p">:</span><span class="s2">"0.0531"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vol24H"</span><span class="p">:</span><span class="s2">"7059898"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high_usd"</span><span class="p">:</span><span class="s2">"0.0552"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low_usd"</span><span class="p">:</span><span class="s2">"0.0522"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
             </span><span class="nl">"is_hide"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
             </span><span class="nl">"high_cny"</span><span class="p">:</span><span class="s2">"92032.3103"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"392242739.20"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"13328.9300"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"change"</span><span class="p">:</span><span class="s2">"-437.5799"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"low_cny"</span><span class="p">:</span><span class="s2">"87735.6210"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"base_last_cny"</span><span class="p">:</span><span class="s2">"88504.33592048"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"area_id"</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span><span class="w">
             </span><span class="nl">"percent"</span><span class="p">:</span><span class="s2">"-3.17%"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"last_cny"</span><span class="p">:</span><span class="s2">"88504.3359"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"13860.2500"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"13213.1600"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"pair_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
             </span><span class="nl">"last_usd"</span><span class="p">:</span><span class="s2">"13318.9290"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"vol24H"</span><span class="p">:</span><span class="s2">"28728"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span><span class="w">
             </span><span class="nl">"high_usd"</span><span class="p">:</span><span class="s2">"13849.8503"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"low_usd"</span><span class="p">:</span><span class="s2">"13203.2459"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"marketAll"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ver"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>id</td>
<td>交易对id</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>交易币种</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>定价币种</td>
</tr>
<tr>
<td>last</td>
<td>24h最新价</td>
</tr>
<tr>
<td>high</td>
<td>24h最高价</td>
</tr>
<tr>
<td>low</td>
<td>24h最低价</td>
</tr>
<tr>
<td>change</td>
<td>24h涨跌</td>
</tr>
<tr>
<td>percent</td>
<td>24h涨跌幅</td>
</tr>
<tr>
<td>vol24H</td>
<td>24h成交量</td>
</tr>
<tr>
<td>amount</td>
<td>24h成交额</td>
</tr>
<tr>
<td>last_cny</td>
<td>24h最新价折算cny</td>
</tr>
<tr>
<td>high_cny</td>
<td>24h最高价折算cny</td>
</tr>
<tr>
<td>low_cny</td>
<td>24h最低价折算cny</td>
</tr>
<tr>
<td>last_usd</td>
<td>24h最新价折算usd</td>
</tr>
<tr>
<td>high_usd</td>
<td>24h最高价折算usd</td>
</tr>
<tr>
<td>low_usd</td>
<td>24h最低价折算usd</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='6'>6.查询单币种市场行情</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3/mdata/market?pair=BIX_USDT</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">request</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> 
    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>
</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>GET https://api.bibox.com/v3/mdata/market?pair=BIX_USDT</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, ETH_BTC, ...</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"is_hide"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high_cny"</span><span class="p">:</span><span class="s2">"0.3668"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"380746.08"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"0.053142"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"change"</span><span class="p">:</span><span class="s2">"+0.000460"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low_cny"</span><span class="p">:</span><span class="s2">"0.3470"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"base_last_cny"</span><span class="p">:</span><span class="s2">"0.35286384"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"area_id"</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="nl">"percent"</span><span class="p">:</span><span class="s2">"+0.87%"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_cny"</span><span class="p">:</span><span class="s2">"0.3529"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"0.055248"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"0.052253"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pair_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_usd"</span><span class="p">:</span><span class="s2">"0.0531"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol24H"</span><span class="p">:</span><span class="s2">"7059898"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">90</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high_usd"</span><span class="p">:</span><span class="s2">"0.0552"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low_usd"</span><span class="p">:</span><span class="s2">"0.0522"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ver"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>id</td>
<td>交易对id</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>交易币种</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>定价币种</td>
</tr>
<tr>
<td>last</td>
<td>24h最新价</td>
</tr>
<tr>
<td>high</td>
<td>24h最高价</td>
</tr>
<tr>
<td>low</td>
<td>24h最低价</td>
</tr>
<tr>
<td>change</td>
<td>24h涨跌</td>
</tr>
<tr>
<td>percent</td>
<td>24h涨跌幅</td>
</tr>
<tr>
<td>vol24H</td>
<td>24h成交量</td>
</tr>
<tr>
<td>amount</td>
<td>24h成交额</td>
</tr>
<tr>
<td>last_cny</td>
<td>24h最新价折算cny</td>
</tr>
<tr>
<td>high_cny</td>
<td>24h最高价折算cny</td>
</tr>
<tr>
<td>low_cny</td>
<td>24h最低价折算cny</td>
</tr>
<tr>
<td>last_usd</td>
<td>24h最新价折算usd</td>
</tr>
<tr>
<td>high_usd</td>
<td>24h最高价折算usd</td>
</tr>
<tr>
<td>low_usd</td>
<td>24h最低价折算usd</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='7'>7.查询市场深度</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3/mdata/depth?pair=BTC_USDT&amp;size=2</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">request</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> 
    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>
</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>GET https://api.bibox.com/v3/mdata/depth?pair=BIX_BTC&amp;size=10</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, ETH_BTC, ...</td>
</tr>
<tr>
<td>size</td>
<td>false</td>
<td>integer</td>
<td>数量</td>
<td>200</td>
<td>1-200</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"update_time"</span><span class="p">:</span><span class="mi">1604316939377</span><span class="p">,</span><span class="w">
        </span><span class="nl">"asks"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"volume"</span><span class="p">:</span><span class="s2">"0.00320000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"11739.1407"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"volume"</span><span class="p">:</span><span class="s2">"0.00320000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"11762.6189"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"bids"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"volume"</span><span class="p">:</span><span class="s2">"0.00640000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"11692.3246"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"volume"</span><span class="p">:</span><span class="s2">"0.00490000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"11668.9866"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"depth"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ver"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>pair</td>
<td>交易对</td>
</tr>
<tr>
<td>update_time</td>
<td>时间戳</td>
</tr>
<tr>
<td>asks</td>
<td>卖方深度</td>
</tr>
<tr>
<td>bids</td>
<td>买方深度</td>
</tr>
<tr>
<td>price</td>
<td>委托价格</td>
</tr>
<tr>
<td>volume</td>
<td>委托数量</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='8'>8.查询成交记录</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3/mdata/deals?pair=BTC_USDT&amp;size=2</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">request</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> 
    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>
</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>GET https://api.bibox.com/v3/mdata/deals?pair=BTC_USDT&amp;size=10</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, ETH_BTC, ...</td>
</tr>
<tr>
<td>size</td>
<td>false</td>
<td>integer</td>
<td>数量</td>
<td>200</td>
<td>1-200</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"11700.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"0.01000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"time"</span><span class="p">:</span><span class="mi">1604316939377</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"11857.0026"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"0.00160000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"time"</span><span class="p">:</span><span class="mi">1604308219643</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="mi">2</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"deals"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ver"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>pair</td>
<td>交易对</td>
</tr>
<tr>
<td>price</td>
<td>成交价格</td>
</tr>
<tr>
<td>volume</td>
<td>成交数量</td>
</tr>
<tr>
<td>time</td>
<td>成交时间</td>
</tr>
<tr>
<td>side</td>
<td>taker成交方向，1-买，2-卖</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='9-ticker'>9.查询市场ticker</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3/mdata/ticker?pair=BTC_USDT</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">request</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> 
    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>
</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>GET https://api.bibox.com/v3/mdata/ticker?pair=BTC_USDT</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, ETH_BTC, ...</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"11700.0000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_usd"</span><span class="p">:</span><span class="s2">"11700.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_cny"</span><span class="p">:</span><span class="s2">"78287.05"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"11880.0000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"11700.0000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"buy"</span><span class="p">:</span><span class="s2">"11692.3246"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"buy_amount"</span><span class="p">:</span><span class="s2">"0.00640000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sell"</span><span class="p">:</span><span class="s2">"11739.1407"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sell_amount"</span><span class="p">:</span><span class="s2">"0.00320000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"0.02160000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"percent"</span><span class="p">:</span><span class="s2">"-1.51%"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1604316939377</span><span class="p">,</span><span class="w">
        </span><span class="nl">"base_last_cny"</span><span class="p">:</span><span class="s2">"78287.05250000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"ticker"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ver"</span><span class="p">:</span><span class="s2">"3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>pair</td>
<td>交易对symbol</td>
</tr>
<tr>
<td>buy</td>
<td>最新买一价</td>
</tr>
<tr>
<td>buy_amount</td>
<td>买一量</td>
</tr>
<tr>
<td>sell</td>
<td>最新卖一价</td>
</tr>
<tr>
<td>sell_amount</td>
<td>卖一量</td>
</tr>
<tr>
<td>high</td>
<td>24h最高价</td>
</tr>
<tr>
<td>last</td>
<td>最新成交价</td>
</tr>
<tr>
<td>low</td>
<td>24h最低价</td>
</tr>
<tr>
<td>timestamp</td>
<td>时间戳</td>
</tr>
<tr>
<td>vol</td>
<td>24h成交量</td>
</tr>
<tr>
<td>percent</td>
<td>24h涨跌幅</td>
</tr>
<tr>
<td>last_cny</td>
<td>最新成交价，cny计价</td>
</tr>
<tr>
<td>last_usd</td>
<td>最新成交价，usd计价</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='10'>10.下单限制信息</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/orderpending/tradeLimit</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">request</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> 
    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>
</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>GET https://api.bibox.com/v3.1/orderpending/tradeLimit</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"min_trade_price"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"default"</span><span class="p">:</span><span class="s2">"0.00000001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"USDT"</span><span class="p">:</span><span class="s2">"0.0001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"DAI"</span><span class="p">:</span><span class="s2">"0.0001"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"min_trade_amount"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"default"</span><span class="p">:</span><span class="s2">"0.0001"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"min_trade_money"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"USDT"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"DAI"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"BIX"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"BTC"</span><span class="p">:</span><span class="s2">"0.0002"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ETH"</span><span class="p">:</span><span class="s2">"0.005"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"tradeLimit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>min_trade_price</td>
<td>最小下单价格栏</td>
</tr>
<tr>
<td>- default</td>
<td>普通交易对最小下单价格限制0.00000001</td>
</tr>
<tr>
<td>- USDT</td>
<td>USDT交易区最下下单价格限制0.0001，超过0.0001的小数部分会自动舍弃，适用于所有以USDT计价的交易对</td>
</tr>
<tr>
<td>- DAI</td>
<td>DAI交易区最小下单价格限制0.0001，超过0.0001的小数部分会自动舍弃，适用于所有以DAI计价的交易对</td>
</tr>
<tr>
<td>min_trade_amount</td>
<td>最小下单数量栏</td>
</tr>
<tr>
<td>- default</td>
<td>最小下单数量限制0.0001，超过0.0001的小数部分会自动舍弃，适用于所有交易对</td>
</tr>
<tr>
<td>min_trade_money</td>
<td>最小下单金额栏</td>
</tr>
<tr>
<td>- USDT</td>
<td>USDT交易区最小下单金额限制为1，以此类推</td>
</tr>
</tbody></table>
<h1 id='apikey'>资产信息(需要ApiKey)</h1><h2 id='11'>11.币币账户资产</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/transfer/assets</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">select</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/transfer/assets</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>select</td>
<td>false</td>
<td>integer</td>
<td>是否查询资产明细</td>
<td></td>
<td>0-各币种总资产合计，1-请求所有币种资产明细</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"total_btc"</span><span class="p">:</span><span class="s2">"0.01373280"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"total_cny"</span><span class="p">:</span><span class="s2">"1253.48"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"total_usd"</span><span class="p">:</span><span class="s2">"188.63"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"assets_list"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"BTCValue"</span><span class="p">:</span><span class="s2">"0.00149188"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CNYValue"</span><span class="p">:</span><span class="s2">"136.17"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"USDValue"</span><span class="p">:</span><span class="s2">"20.49"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"balance"</span><span class="p">:</span><span class="s2">"0.00149188"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"freeze"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"BTCValue"</span><span class="p">:</span><span class="s2">"0.00098407"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CNYValue"</span><span class="p">:</span><span class="s2">"89.82"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"USDValue"</span><span class="p">:</span><span class="s2">"13.52"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"balance"</span><span class="p">:</span><span class="s2">"247.87570000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"freeze"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"assets"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>total_btc</td>
<td>各币种资产总和，btc计价</td>
</tr>
<tr>
<td>total_cny</td>
<td>各币种资产总和，cny计价</td>
</tr>
<tr>
<td>total_usd</td>
<td>各币种资产总和，usd计价</td>
</tr>
<tr>
<td>assets_list</td>
<td>币种资产列表</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>币种</td>
</tr>
<tr>
<td>balance</td>
<td>可用资产</td>
</tr>
<tr>
<td>freeze</td>
<td>冻结资产</td>
</tr>
<tr>
<td>BTCValue</td>
<td>btc估值</td>
</tr>
<tr>
<td>CNYValue</td>
<td>cny估值</td>
</tr>
<tr>
<td>USDValue</td>
<td>usd估值</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='12'>12.充值</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/transfer/transferIn</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">coin_symbol</span><span class="p">:</span> <span class="dl">'</span><span class="s1">BTC</span><span class="dl">'</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/transfer/transferIn</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>true</td>
<td>string</td>
<td>充值币种</td>
<td></td>
<td>BIX, BTC, ...</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="s2">"13f2LpNAdsKuxdTt2bKFLaSZL7toeyieGE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"transferIn"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>result</td>
<td>充值地址</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='13'>13.提现</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/transfer/transferOut</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">coin_symbol</span><span class="p">:</span> <span class="dl">'</span><span class="s1">BTC</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">amount</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="na">totp_code</span><span class="p">:</span> <span class="mi">642163</span><span class="p">,</span>
    <span class="na">trade_pwd</span><span class="p">:</span> <span class="dl">'</span><span class="s1">123456</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">addr</span><span class="p">:</span> <span class="dl">'</span><span class="s1">13f2LpNAdsKuxdTt2bKFLaSZL7toeyieGExxx</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">addr_remark</span><span class="p">:</span> <span class="dl">'</span><span class="s1">test.btc</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">memo</span><span class="p">:</span> <span class="dl">''</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/transfer/transferOut</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>true</td>
<td>string</td>
<td>提现币种</td>
<td></td>
<td>BIX, BTC, ...</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>double</td>
<td>提现数量</td>
<td></td>
<td>需大于各币种最小提现数量</td>
</tr>
<tr>
<td>totp_code</td>
<td>false</td>
<td>integer</td>
<td>google验证码</td>
<td></td>
<td>新地址需要,旧地址不需要</td>
</tr>
<tr>
<td>trade_pwd</td>
<td>false</td>
<td>string</td>
<td>资金密码</td>
<td></td>
<td>新地址需要,旧地址不需要</td>
</tr>
<tr>
<td>addr</td>
<td>true</td>
<td>string</td>
<td>提现地址</td>
<td></td>
<td>币种合法地址</td>
</tr>
<tr>
<td>addr_remark</td>
<td>true</td>
<td>string</td>
<td>提现地址备注名称</td>
<td></td>
<td></td>
</tr>
<tr>
<td>memo</td>
<td>false</td>
<td>string</td>
<td>提现标签</td>
<td></td>
<td>一些币种提现必须指定标签，与地址组合标识唯一性，比如EOS</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="mi">228</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"transfer/transferOut"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>result</td>
<td>提现id</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='14'>14.查询充值记录</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/transfer/transferInList</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">coin_symbol</span><span class="p">:</span> <span class="dl">'</span><span class="s1">USDT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">filter_type</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">size</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/transfer/transferInList</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>filter_type</td>
<td>false</td>
<td>integer</td>
<td>充值记录筛选</td>
<td>0</td>
<td>0-全部，1-充值进行中，2-充值到账，3-充值失败</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>false</td>
<td>string</td>
<td>充值币种</td>
<td></td>
<td>BIX, ETH, ...</td>
</tr>
<tr>
<td>page</td>
<td>true</td>
<td>integer</td>
<td>第几页</td>
<td></td>
<td>从1开始</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>integer</td>
<td>每页数量</td>
<td></td>
<td>1-50</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1682192</span><span class="p">,</span><span class="w">
                </span><span class="nl">"to"</span><span class="p">:</span><span class="s2">"TXLhYFsWu84vU5ngs8J88yphTPdv69zrqoD"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tx_id"</span><span class="p">:</span><span class="s2">"a8f77b3a20758d85f71f2d993766c9b6c2daf1b1f34992e409e1a47247e5a5e45"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"chain_type"</span><span class="p">:</span><span class="s2">"TRC20"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"confirmCount"</span><span class="p">:</span><span class="s2">"20"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"0.00094400"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1596876872000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"transferInList"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>count</td>
<td>当前页记录数，若存在下页，count=当前页记录数+1</td>
</tr>
<tr>
<td>page</td>
<td>第几页，从1开始</td>
</tr>
<tr>
<td>items</td>
<td>充值记录列表</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>币种</td>
</tr>
<tr>
<td>to_address</td>
<td>充值地址</td>
</tr>
<tr>
<td>amount</td>
<td>充值数量</td>
</tr>
<tr>
<td>confirmCount</td>
<td>充值确认数</td>
</tr>
<tr>
<td>createdAt</td>
<td>充值时间</td>
</tr>
<tr>
<td>status</td>
<td>充值状态,  1-充值进行中，2-充值到账，3-充值失败</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='15'>15.查询提现记录</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/transfer/transferOutList</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">coin_symbol</span><span class="p">:</span> <span class="dl">'</span><span class="s1">USDT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">filter_type</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">size</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/transfer/transferOutList</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>filter_type</td>
<td>false</td>
<td>integer</td>
<td>提现记录筛选</td>
<td></td>
<td>-2：审核不通过；-1: 用户撤销；0:待审核; 1:审核通过（待发币）;  2: 发币中； 3：发币完成</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>false</td>
<td>string</td>
<td>提现币种</td>
<td></td>
<td>BIX, ETH, ...</td>
</tr>
<tr>
<td>page</td>
<td>true</td>
<td>integer</td>
<td>第几页</td>
<td></td>
<td>从1开始</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>integer</td>
<td>每页数量</td>
<td></td>
<td>1-50</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">809022</span><span class="p">,</span><span class="w">
                </span><span class="nl">"to_address"</span><span class="p">:</span><span class="s2">"0x606a84A14307418F47C6ad538b5E73C93Ff9C8Cf"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"tx_id"</span><span class="p">:</span><span class="s2">"0xd3cf26d514c1e62f85de84b4e24fbd219084dd078daa7e639844c33cdf81bd62b"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"chain_type"</span><span class="p">:</span><span class="s2">"ERC20"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount_real"</span><span class="p">:</span><span class="s2">"1000.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"1003.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1596876972000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"memo"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"transferOutList"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>count</td>
<td>当前页记录数，若存在下页，count=当前页记录数+1</td>
</tr>
<tr>
<td>page</td>
<td>第几页，从1开始</td>
</tr>
<tr>
<td>items</td>
<td>充值记录列表</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>币种</td>
</tr>
<tr>
<td>to_address</td>
<td>提现地址</td>
</tr>
<tr>
<td>amount</td>
<td>提现数量</td>
</tr>
<tr>
<td>fee</td>
<td>提现手续费</td>
</tr>
<tr>
<td>createdAt</td>
<td>充值时间</td>
</tr>
<tr>
<td>memo</td>
<td>memo</td>
</tr>
<tr>
<td>status</td>
<td>充值状态,  1-充值进行中，2-充值到账，3-充值失败</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='16'>16.获取币种配置</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/transfer/coinConfig</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/transfer/coinConfig</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>false</td>
<td>string</td>
<td>币种</td>
<td></td>
<td>BIX, ETH...</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"is_active"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"original_decimals"</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="nl">"enable_deposit"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"enable_withdraw"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"withdraw_fee"</span><span class="p">:</span><span class="mf">0.0008</span><span class="p">,</span><span class="w">
            </span><span class="nl">"withdraw_min"</span><span class="p">:</span><span class="mf">0.005</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"coinConfig"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>币种</td>
</tr>
<tr>
<td>original_decimals</td>
<td>币种原值精度</td>
</tr>
<tr>
<td>enable_deposit</td>
<td>是否可充值，0-禁止，1-可以</td>
</tr>
<tr>
<td>enable_withdraw</td>
<td>是否可提现，0-禁止，1-可以</td>
</tr>
<tr>
<td>withdraw_fee</td>
<td>提现手续费</td>
</tr>
<tr>
<td>withdraw_min</td>
<td>最小提现数量</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='17'>17.查询某一条提现记录</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/transfer/withdrawInfo</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="mi">228</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/transfer/withdrawInfo</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>true</td>
<td>integer</td>
<td>提现id</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">228</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1512756997000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"LTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"to_address"</span><span class="p">:</span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"1.00000000"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="mf">0.1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"withdrawInfo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>id</td>
<td>提现id</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>币种</td>
</tr>
<tr>
<td>createdAt</td>
<td>提现时间</td>
</tr>
<tr>
<td>to_address</td>
<td>提现地址</td>
</tr>
<tr>
<td>status</td>
<td>状态,  -2：审核不通过；-1: 用户撤销；0:待审核; 1:审核通过（待发币）;  2: 发币中； 3：发币完成&#39;</td>
</tr>
<tr>
<td>amount</td>
<td>提现数量</td>
</tr>
<tr>
<td>fee</td>
<td>提现手续费</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h1 id='apikey-2'>币币交易(需要ApiKey)</h1><h2 id='18'>18.下单</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/orderpending/trade</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">pair</span><span class="p">:</span> <span class="dl">'</span><span class="s1">BIX_USDT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">account_type</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">order_side</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">order_type</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.05458</span><span class="p">,</span>
    <span class="na">amount</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/orderpending/trade</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, ETH_BTC, ...</td>
</tr>
<tr>
<td>account_type</td>
<td>true</td>
<td>integer</td>
<td>账户类型</td>
<td></td>
<td>0-币币账户</td>
</tr>
<tr>
<td>order_type</td>
<td>true</td>
<td>integer</td>
<td>交易类型</td>
<td></td>
<td>2-限价单</td>
</tr>
<tr>
<td>order_side</td>
<td>true</td>
<td>integer</td>
<td>交易方向</td>
<td></td>
<td>1-买，2-卖</td>
</tr>
<tr>
<td>price</td>
<td>true</td>
<td>double</td>
<td>委托价格</td>
<td></td>
<td>最小值 0.00000001</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>double</td>
<td>委托数量</td>
<td></td>
<td>最小值 0.0001</td>
</tr>
<tr>
<td>client_oid</td>
<td>false</td>
<td>long to string</td>
<td>用户自定义id</td>
<td></td>
<td>&#39;110011223344&#39;</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="s2">"12845594488036185"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"trade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>result</td>
<td>订单id</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='19'>19.撤单</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/orderpending/cancelTrade</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">orders_id</span><span class="p">:</span><span class="dl">"</span><span class="s2">12845594488036185</span><span class="dl">"</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/orderpending/cancelTrade</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>orders_id</td>
<td>true</td>
<td>string</td>
<td>委托单id</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"cancelTrade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>result</td>
<td>注意：该结果只表示服务器接收到撤单请求，撤销结果可查询订单记录</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='20'>20.当前委托</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/orderpending/orderPendingList</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">pair</span><span class="p">:</span> <span class="dl">'</span><span class="s1">BIX_USDT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">account_type</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">size</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/orderpending/orderPendingList</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>false</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, ETH_BTC, ...</td>
</tr>
<tr>
<td>account_type</td>
<td>true</td>
<td>integer</td>
<td>账户类型</td>
<td></td>
<td>0-币币账户</td>
</tr>
<tr>
<td>order_side</td>
<td>false</td>
<td>integer</td>
<td>交易方向</td>
<td></td>
<td>1-买，2-卖</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>false</td>
<td>string</td>
<td>交易币种</td>
<td></td>
<td>BIX, EOS, ...</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>false</td>
<td>string</td>
<td>定价币种</td>
<td></td>
<td>BTC, USDT, ...</td>
</tr>
<tr>
<td>page</td>
<td>true</td>
<td>integer</td>
<td>第几页</td>
<td></td>
<td>从1开始</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>integer</td>
<td>每页数量</td>
<td></td>
<td>1-50</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"12874181782731851"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1604309861000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"account_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BIX_USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_side"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.054330"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_price"</span><span class="p">:</span><span class="s2">"0.000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"100.0000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"money"</span><span class="p">:</span><span class="s2">"5.43300000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_amount"</span><span class="p">:</span><span class="s2">"0.0000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_percent"</span><span class="p">:</span><span class="s2">"0.00%"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_money"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_count"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unexecuted"</span><span class="p">:</span><span class="s2">"100.0000"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"orderPendingList"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>count</td>
<td>当前页记录数，若存在下页，count=当前页记录数+1</td>
</tr>
<tr>
<td>page</td>
<td>第几页，从1开始</td>
</tr>
<tr>
<td>items</td>
<td>充值记录列表</td>
</tr>
<tr>
<td>id</td>
<td>订单id</td>
</tr>
<tr>
<td>createdAt</td>
<td>创建时间</td>
</tr>
<tr>
<td>account_type</td>
<td>账户类型 0-币币账户</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>交易币种</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>定价币种</td>
</tr>
<tr>
<td>order_side</td>
<td>交易方向，1-买，2-卖</td>
</tr>
<tr>
<td>order_type</td>
<td>订单类型，1-市价单，2-限价单</td>
</tr>
<tr>
<td>price</td>
<td>委托价格，市价单是0</td>
</tr>
<tr>
<td>amount</td>
<td>委托数量，市价买单是0</td>
</tr>
<tr>
<td>money</td>
<td>委托金额，市价卖单是0</td>
</tr>
<tr>
<td>deal_amount</td>
<td>成交数量</td>
</tr>
<tr>
<td>deal_percent</td>
<td>成交百分比</td>
</tr>
<tr>
<td>unexecuted</td>
<td>未成交数量</td>
</tr>
<tr>
<td>status</td>
<td>状态，-1 失败 0或1-待成交, 2-部分成交，3-完全成交，4-部分撤销，5-完全撤销，6-待撤销</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='21'>21.历史委托</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/orderpending/pendingHistoryList</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">pair</span><span class="p">:</span> <span class="dl">'</span><span class="s1">BIX_USDT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">account_type</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">size</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/orderpending/pendingHistoryList</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>false</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, ETH_BTC, ...</td>
</tr>
<tr>
<td>account_type</td>
<td>true</td>
<td>integer</td>
<td>账户类型</td>
<td></td>
<td>0-币币账户</td>
</tr>
<tr>
<td>order_side</td>
<td>false</td>
<td>integer</td>
<td>交易方向</td>
<td></td>
<td>1-买，2-卖</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>false</td>
<td>string</td>
<td>交易币种</td>
<td></td>
<td>BIX, EOS, ...</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>false</td>
<td>string</td>
<td>定价币种</td>
<td></td>
<td>BTC, USDT, ...</td>
</tr>
<tr>
<td>hide_cancel</td>
<td>false</td>
<td>integer</td>
<td>隐藏已撤销订单</td>
<td></td>
<td>0-不隐藏，1-隐藏</td>
</tr>
<tr>
<td>page</td>
<td>true</td>
<td>integer</td>
<td>第几页</td>
<td></td>
<td>从1开始</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>integer</td>
<td>每页数量</td>
<td></td>
<td>1-50</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="nl">"page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"12845594488036185"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1604305967000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"account_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_side"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.054580"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"100.0000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"money"</span><span class="p">:</span><span class="s2">"5.45800000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_price"</span><span class="p">:</span><span class="s2">"0.000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_amount"</span><span class="p">:</span><span class="s2">"0.0000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_money"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="mi">5</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"pendingHistoryList"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>count</td>
<td>当前页记录数，若存在下页，count=当前页记录数+1</td>
</tr>
<tr>
<td>page</td>
<td>第几页，从1开始</td>
</tr>
<tr>
<td>items</td>
<td>充值记录列表</td>
</tr>
<tr>
<td>id</td>
<td>订单id</td>
</tr>
<tr>
<td>createdAt</td>
<td>创建时间</td>
</tr>
<tr>
<td>account_type</td>
<td>账户类型 0-币币账户</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>交易币种</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>定价币种</td>
</tr>
<tr>
<td>order_side</td>
<td>交易方向，1-买，2-卖</td>
</tr>
<tr>
<td>order_type</td>
<td>订单类型，1-市价单，2-限价单</td>
</tr>
<tr>
<td>price</td>
<td>委托价格，市价单是0</td>
</tr>
<tr>
<td>amount</td>
<td>委托数量，市价买单是0</td>
</tr>
<tr>
<td>money</td>
<td>委托金额，市价卖单是0</td>
</tr>
<tr>
<td>deal_price</td>
<td>成交均价</td>
</tr>
<tr>
<td>deal_amount</td>
<td>成交数量</td>
</tr>
<tr>
<td>deal_money</td>
<td>成交金额</td>
</tr>
<tr>
<td>deal_percent</td>
<td>成交百分比</td>
</tr>
<tr>
<td>status</td>
<td>状态，-1 失败 0或1-待成交, 2-部分成交，3-完全成交，4-部分撤销，5-完全撤销，6-待撤销</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='22'>22.成交记录</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/orderpending/orderDetail</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">12826902662624234</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">account_type</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/orderpending/orderDetail</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>委托单id</td>
<td></td>
<td></td>
</tr>
<tr>
<td>account_type</td>
<td>true</td>
<td>integer</td>
<td>账户类型</td>
<td></td>
<td>0-币币账户</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"sum"</span><span class="p">:</span><span class="s2">"3.57490350"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderList"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"2251799823470863898"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1599730918000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"account_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_side"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.071300"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"0.4825"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"money"</span><span class="p">:</span><span class="s2">"0.03440225"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"pay_bix"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"is_maker"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"relay_id"</span><span class="p">:</span><span class="s2">"12826902662624234"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"2251799823470863900"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1599730918000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"account_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_side"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.071500"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"39.8408"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"money"</span><span class="p">:</span><span class="s2">"2.84861720"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"pay_bix"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"is_maker"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"relay_id"</span><span class="p">:</span><span class="s2">"12826902662624234"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"2251799823470863902"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1599730918000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"account_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_side"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.071500"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"9.6767"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"money"</span><span class="p">:</span><span class="s2">"0.69188405"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"pay_bix"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"is_maker"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"relay_id"</span><span class="p">:</span><span class="s2">"12826902662624234"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"orderDetail"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>sum</td>
<td>成交总额</td>
</tr>
<tr>
<td>orderList</td>
<td>成交记录列表</td>
</tr>
<tr>
<td>id</td>
<td>成交记录id</td>
</tr>
<tr>
<td>createdAt</td>
<td>成交时间</td>
</tr>
<tr>
<td>account_type</td>
<td>账户类型 0-币币账户</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>交易币种</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>定价币种</td>
</tr>
<tr>
<td>order_side</td>
<td>交易方向，1-买，2-卖</td>
</tr>
<tr>
<td>order_type</td>
<td>订单类型，1-市价单，2-限价单</td>
</tr>
<tr>
<td>price</td>
<td>成交价格</td>
</tr>
<tr>
<td>amount</td>
<td>成交数量</td>
</tr>
<tr>
<td>money</td>
<td>成交金额</td>
</tr>
<tr>
<td>pay_bix</td>
<td>bix抵扣 0 未开启 1 开启</td>
</tr>
<tr>
<td>fee_symbol</td>
<td>手续费币种</td>
</tr>
<tr>
<td>fee</td>
<td>手续费</td>
</tr>
<tr>
<td>is_maker</td>
<td>是否maker，0-否，1-是</td>
</tr>
<tr>
<td>relay_id</td>
<td>关联订单id</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='23'>23.委托单详情</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/orderpending/order</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">12845594488036185</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">account_type</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/orderpending/order</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>委托单id</td>
<td></td>
<td></td>
</tr>
<tr>
<td>account_type</td>
<td>true</td>
<td>integer</td>
<td>账户类型</td>
<td></td>
<td>0-币币账户</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"12845594488036185"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1604305967000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"account_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BIX_USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_side"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.054580"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deal_price"</span><span class="p">:</span><span class="s2">"0.000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"100.0000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"money"</span><span class="p">:</span><span class="s2">"5.45800000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deal_amount"</span><span class="p">:</span><span class="s2">"0.0000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deal_percent"</span><span class="p">:</span><span class="s2">"0.00%"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deal_money"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deal_count"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unexecuted"</span><span class="p">:</span><span class="s2">"100.0000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"order"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>id</td>
<td>订单id</td>
</tr>
<tr>
<td>createdAt</td>
<td>创建时间</td>
</tr>
<tr>
<td>account_type</td>
<td>账户类型 0-币币账户</td>
</tr>
<tr>
<td>pair</td>
<td>交易对</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>交易币种</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>定价币种</td>
</tr>
<tr>
<td>order_side</td>
<td>交易方向，1-买，2-卖</td>
</tr>
<tr>
<td>order_type</td>
<td>订单类型，1-市价单，2-限价单</td>
</tr>
<tr>
<td>price</td>
<td>委托价格，市价单是0</td>
</tr>
<tr>
<td>amount</td>
<td>委托数量，市价买单是0</td>
</tr>
<tr>
<td>money</td>
<td>委托金额，市价卖单是0</td>
</tr>
<tr>
<td>deal_amount</td>
<td>已成交数量</td>
</tr>
<tr>
<td>deal_percent</td>
<td>成交百分比</td>
</tr>
<tr>
<td>unexecuted</td>
<td>未成交数量</td>
</tr>
<tr>
<td>status</td>
<td>状态，-1 失败 0或1-待成交, 2-部分成交，3-完全成交，4-部分撤销，5-完全撤销，6-待撤销</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='24'>24.成交明细</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/orderpending/orderHistoryList</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">pair</span><span class="p">:</span> <span class="dl">'</span><span class="s1">BIX_USDT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">account_type</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">size</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/orderpending/orderHistoryList</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>false</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, ETH_BTC, ...</td>
</tr>
<tr>
<td>account_type</td>
<td>true</td>
<td>integer</td>
<td>账户类型</td>
<td></td>
<td>0-币币账户</td>
</tr>
<tr>
<td>order_side</td>
<td>false</td>
<td>integer</td>
<td>交易方向</td>
<td></td>
<td>1-买，2-卖</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>false</td>
<td>string</td>
<td>交易币种</td>
<td></td>
<td>BIX, EOS, ...</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>false</td>
<td>string</td>
<td>定价币种</td>
<td></td>
<td>BTC, USDT, ...</td>
</tr>
<tr>
<td>page</td>
<td>true</td>
<td>integer</td>
<td>第几页</td>
<td></td>
<td>从1开始</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>integer</td>
<td>每页数量</td>
<td></td>
<td>1-50</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"2251799823470863902"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1599730918000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"account_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_side"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.071500"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"9.6767"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"money"</span><span class="p">:</span><span class="s2">"0.69188405"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"pay_bix"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"is_maker"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"relay_id"</span><span class="p">:</span><span class="s2">"12826902662624234"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"orderHistoryList"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>count</td>
<td>当前页记录数，若存在下页，count=当前页记录数+1</td>
</tr>
<tr>
<td>page</td>
<td>第几页</td>
</tr>
<tr>
<td>items</td>
<td>充值记录列表</td>
</tr>
<tr>
<td>id</td>
<td>订单id</td>
</tr>
<tr>
<td>createdAt</td>
<td>成交时间</td>
</tr>
<tr>
<td>account_type</td>
<td>账户类型 0-币币账户</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>交易币种</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>定价币种</td>
</tr>
<tr>
<td>order_side</td>
<td>交易方向，1-买，2-卖</td>
</tr>
<tr>
<td>order_type</td>
<td>订单类型，1-市价单，2-限价单</td>
</tr>
<tr>
<td>price</td>
<td>成交价格</td>
</tr>
<tr>
<td>amount</td>
<td>成交数量</td>
</tr>
<tr>
<td>money</td>
<td>成交金额</td>
</tr>
<tr>
<td>fee</td>
<td>手续费</td>
</tr>
<tr>
<td>pay_bix</td>
<td>bix抵扣 0 未开启 1 开启</td>
</tr>
<tr>
<td>fee_symbol</td>
<td>手续费币种</td>
</tr>
<tr>
<td>is_maker</td>
<td>是否maker</td>
</tr>
<tr>
<td>relay_id</td>
<td>关联订单id</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='25'>25.最新成交明细</h2>
<p>查询指定id号之后的成交记录，分页返回1000条</p>

<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/orderpending/orderDetailsLast</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey secret</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">pair</span><span class="p">:</span> <span class="dl">'</span><span class="s1">BIX_USDT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">account_type</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">id</span><span class="p">:</span><span class="dl">"</span><span class="s2">2251799823470863900</span><span class="dl">"</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">cmd</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">//format param</span>
<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//sign cmds</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">cmd</span><span class="c1">//post参数字符串</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">});</span>
</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/orderpending/orderDetailsLast</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>false</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, ETH_BTC, ...</td>
</tr>
<tr>
<td>account_type</td>
<td>true</td>
<td>integer</td>
<td>账户类型</td>
<td></td>
<td>0-币币账户</td>
</tr>
<tr>
<td>id</td>
<td>true</td>
<td>string</td>
<td>成交记录开始的id号</td>
<td></td>
<td>大于&quot;1000000000&quot;</td>
</tr>
<tr>
<td>page</td>
<td>true</td>
<td>integer</td>
<td>第几页</td>
<td></td>
<td>从1开始</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"2251799823470863902"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1599730918000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"account_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_side"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.071500"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"9.6767"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"money"</span><span class="p">:</span><span class="s2">"0.69188405"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"pay_bix"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"is_maker"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"relay_id"</span><span class="p">:</span><span class="s2">"12826902662624234"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"2251799825448005865"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1604312287000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"account_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_side"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.054330"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"100.0000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"money"</span><span class="p">:</span><span class="s2">"5.43300000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"pay_bix"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"is_maker"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"relay_id"</span><span class="p">:</span><span class="s2">"12874181782731851"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"cmd"</span><span class="p">:</span><span class="s2">"orderDetailsLast"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>count</td>
<td>当前页记录数，若存在下页，count=当前页记录数+1</td>
</tr>
<tr>
<td>page</td>
<td>第几页</td>
</tr>
<tr>
<td>items</td>
<td>充值记录列表</td>
</tr>
<tr>
<td>id</td>
<td>订单id</td>
</tr>
<tr>
<td>createdAt</td>
<td>成交时间</td>
</tr>
<tr>
<td>account_type</td>
<td>账户类型 0-币币账户</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>交易币种</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>定价币种</td>
</tr>
<tr>
<td>order_side</td>
<td>交易方向，1-买，2-卖</td>
</tr>
<tr>
<td>order_type</td>
<td>订单类型，1-市价单，2-限价单</td>
</tr>
<tr>
<td>price</td>
<td>成交价格</td>
</tr>
<tr>
<td>amount</td>
<td>成交数量</td>
</tr>
<tr>
<td>money</td>
<td>成交金额</td>
</tr>
<tr>
<td>pay_bix</td>
<td>bix抵扣 0 未开启 1 开启</td>
</tr>
<tr>
<td>fee_symbol</td>
<td>手续费币种</td>
</tr>
<tr>
<td>fee</td>
<td>手续费</td>
</tr>
<tr>
<td>is_maker</td>
<td>是否maker 0-否，1-是</td>
</tr>
<tr>
<td>relay_id</td>
<td>关联订单id</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h1 id='apikey-3'>资金划转(需要ApiKey)</h1><h2 id='04f74bcc43'>钱包划转到币币</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">USDT</span><span class="dl">'</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/assets/transfer/spot</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/assets/transfer/spot</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>true</td>
<td>string</td>
<td>币种</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>false</td>
<td>string</td>
<td>数量</td>
<td></td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>false</td>
<td>int</td>
<td>0钱包转币币; 1币币转钱包</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">

</span></code></pre></div><h2 id='94bcda217a'>钱包划转到杠杆</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">pair</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*_USDT</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">USDT</span><span class="dl">'</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/transferAssets/base2credit</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/transferAssets/base2credit</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>true</td>
<td>string</td>
<td>币种</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>false</td>
<td>double</td>
<td>数量</td>
<td></td>
<td></td>
</tr>
<tr>
<td>pair</td>
<td>false</td>
<td>string</td>
<td>仓位</td>
<td></td>
<td>EOS_USDT,BTC_USDT, *_USDT...</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">

</span></code></pre></div><h2 id='697d16ed90'>杠杆划转到钱包</h2>
<blockquote>
<p>Request</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">pair</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC_USDT</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">'</span><span class="s1">USDT</span><span class="dl">'</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/transferAssets/credit2base</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/transferAssets/credit2base</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>true</td>
<td>string</td>
<td>币种</td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>false</td>
<td>double</td>
<td>数量</td>
<td></td>
<td></td>
</tr>
<tr>
<td>pair</td>
<td>false</td>
<td>string</td>
<td>仓位</td>
<td></td>
<td>EOS_USDT,BTC_USDT, *_USDT...</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">

</span></code></pre></div><h1 id='apikey-4'>杠杆交易(需要ApiKey)</h1><h2 id='521f87f13e'>获取放贷信息</h2>
<blockquote>
<p>示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">page</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:[</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">1</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">coin_symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">USDT</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/lendOrder/get</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/lendOrder/get</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>true</td>
<td>string</td>
<td>币种</td>
<td></td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>false</td>
<td>int</td>
<td>0-借出 1-部分收回 2-完成</td>
<td></td>
<td></td>
</tr>
<tr>
<td>page</td>
<td>false</td>
<td>int</td>
<td>页码</td>
<td></td>
<td></td>
</tr>
<tr>
<td>size</td>
<td>false</td>
<td>int</td>
<td>每页数量</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8114202916</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coin_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount_receipt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00200000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"insurance_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.10000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"insurance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.33333324"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest_receipt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expireAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-11-18T03:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-11-11T03:50:47.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"days"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"validSymbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>币种</td>
</tr>
<tr>
<td>amount</td>
<td>已放款数量</td>
</tr>
<tr>
<td>amount_receipt</td>
<td>已收回放款</td>
</tr>
<tr>
<td>interest_rate</td>
<td>利率</td>
</tr>
<tr>
<td>insurance_rate</td>
<td>保险费率</td>
</tr>
<tr>
<td>fee</td>
<td>已收回放款</td>
</tr>
<tr>
<td>insurance</td>
<td>保险</td>
</tr>
<tr>
<td>interest</td>
<td>利息</td>
</tr>
<tr>
<td>status</td>
<td>0:已借出,1部分收回,2全部收回</td>
</tr>
</tbody></table>
<h2 id='09ee9c4ed8'>获取借款信息</h2>
<blockquote>
<p>示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">page</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">2</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">pair</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTC_USDT</span><span class="dl">"</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/borrowOrder/get</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/borrowOrder/get</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>true</td>
<td>string</td>
<td>交易币种</td>
<td></td>
<td>USDT, EOS...</td>
</tr>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>仓位</td>
<td></td>
<td>BTC_USDT, ETH_USDT, *_USDT-全仓</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>int或Array</td>
<td>订单状态</td>
<td></td>
<td>0未成交, 1借款成功, 2部分还款, 3-6已完成</td>
</tr>
<tr>
<td>page</td>
<td>true</td>
<td>integer</td>
<td>第几页</td>
<td></td>
<td>从1开始</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>integer</td>
<td>每页数量</td>
<td></td>
<td>1-50</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">539354</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8114202916</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coin_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"406.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount_refund"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00010000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest_rate_hour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000417"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.26559180"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest_refund"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expireAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-11-15T11:00:00.000Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-11-08T11:53:15.000Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"validSymbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>币种</td>
</tr>
<tr>
<td>pair</td>
<td>仓位信息</td>
</tr>
<tr>
<td>amount</td>
<td>借款数量</td>
</tr>
<tr>
<td>amount_refund</td>
<td>已还款数量</td>
</tr>
<tr>
<td>interest_rate</td>
<td>日利率</td>
</tr>
<tr>
<td>interest</td>
<td>未还利息</td>
</tr>
<tr>
<td>interest_refund</td>
<td>已还利息</td>
</tr>
<tr>
<td>status</td>
<td>1借款成功,2部分还款,3还款成功</td>
</tr>
</tbody></table>
<h2 id='26797dae7c'>获取放贷未成交信息</h2>
<blockquote>
<p>示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">page</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:[</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="mi">1</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">coin_symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EOS</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span><span class="mi">50</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/lendOrderbook/get</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/lendOrderbook/get</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>true</td>
<td>string</td>
<td>交易币种</td>
<td></td>
<td>USDT, EOS, ...</td>
</tr>
<tr>
<td>status</td>
<td>true</td>
<td>integer或integerArray</td>
<td>订单状态</td>
<td></td>
<td>0未成交, 1部分成交, 2已完成</td>
</tr>
<tr>
<td>page</td>
<td>true</td>
<td>integer</td>
<td>第几页</td>
<td></td>
<td>从1开始</td>
</tr>
<tr>
<td>size</td>
<td>true</td>
<td>integer</td>
<td>每页数量</td>
<td></td>
<td>1-50</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="mi">10000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coin_id"</span><span class="p">:</span><span class="mi">61</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"EOS"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount_finish"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest_rate"</span><span class="p">:</span><span class="mf">0.001</span><span class="p">,</span><span class="w">
            </span><span class="nl">"period"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="nl">"expireAt"</span><span class="p">:</span><span class="s2">"2018-12-29T10:59:18.000Z"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"status"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="s2">"2018-12-22T10:59:18.000Z"</span><span class="w"> 
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"validSymbols"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"EOS"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>币种</td>
</tr>
<tr>
<td>amount</td>
<td>待成交数量</td>
</tr>
<tr>
<td>amount_finish</td>
<td>已成交数量</td>
</tr>
<tr>
<td>interest_rate</td>
<td>利率</td>
</tr>
</tbody></table>
<h2 id='79e1198687'>获取放贷资产信息</h2>
<blockquote>
<p>示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">coin_symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EOS</span><span class="dl">"</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/transferAssets/lendAssets</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/transferAssets/lendAssets</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>true</td>
<td>string</td>
<td>币种</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"balance"</span><span class="p">:</span><span class="s2">"1.52319980"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lend"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lend_book"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interest"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lend_receipt"</span><span class="p">:</span><span class="s2">"1.44000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"interest_receipt"</span><span class="p">:</span><span class="s2">"0.16115200"</span><span class="w"> 
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>可用余额</td>
</tr>
<tr>
<td>lend</td>
<td>待收贷款数量</td>
</tr>
<tr>
<td>lend_book</td>
<td>预订贷款数量</td>
</tr>
<tr>
<td>interest</td>
<td>待收利息</td>
</tr>
<tr>
<td>lend_receipt</td>
<td>已收贷款数量</td>
</tr>
<tr>
<td>interest_receipt</td>
<td>已收利息</td>
</tr>
</tbody></table>
<h2 id='f63c173fba'>获取借款资产信息</h2>
<blockquote>
<p>示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">pair</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTC_USDT</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/transferAssets/borrowAsset</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/transferAssets/borrowAssets</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>仓位</td>
<td></td>
<td>BTC_USDT, ETH_USDT, *_USDT-全仓</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency_deposit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8406.00000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency_borrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"506.34642529"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency_can_borrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70590.53574710"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"margin_radio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1660.13"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"max_leverage_ratio"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"current_leverage_radio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"force_deal_radio"</span><span class="p">:</span><span class="w"> </span><span class="mi">110</span><span class="p">,</span><span class="w">
    </span><span class="nl">"force_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coin_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"freeze"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"can_transfer_credit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"can_transfer_main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"can_borrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8.82381696"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrow_book"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"force_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bust_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coin_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8406.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"freeze"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"506.34642529"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"can_transfer_credit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7494.57643447"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"can_transfer_main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000.00000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"can_borrow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70590.53574710"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"borrow_book"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"force_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bust_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"interest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.34642529"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8406.00000000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>仓位</td>
</tr>
<tr>
<td>currency_deposit</td>
<td>折合成计价币余额</td>
</tr>
<tr>
<td>currency_borrow</td>
<td>折合成计价币已借</td>
</tr>
<tr>
<td>currency_can_borrow</td>
<td>折合成计价币可借</td>
</tr>
<tr>
<td>margin_radio</td>
<td>保证金率</td>
</tr>
<tr>
<td>current_leverage_radio</td>
<td>当前杠杆倍数</td>
</tr>
<tr>
<td>force_deal_radio</td>
<td>爆仓保证金率</td>
</tr>
<tr>
<td>force_price</td>
<td>爆仓价(逐仓)</td>
</tr>
<tr>
<td>balance</td>
<td>单个币种余额</td>
</tr>
<tr>
<td>freeze</td>
<td>币种冻结</td>
</tr>
<tr>
<td>borrow</td>
<td>币种借款</td>
</tr>
<tr>
<td>interest</td>
<td>产生利息</td>
</tr>
</tbody></table>
<h2 id='d923307ccf'>借款</h2>
<blockquote>
<p>示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">coin_symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">pair</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC_USDT</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">5.0036</span><span class="dl">"</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/borrowOrder/autobook</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/borrowOrder/autobook</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>true</td>
<td>string</td>
<td>需要借款的币种</td>
<td></td>
<td>EOS, BTC, USDT</td>
</tr>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>需要借款的仓位</td>
<td></td>
<td>BTC_USDT, *_USDT</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>double</td>
<td>借款数量</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">

</span></code></pre></div><h2 id='a9af9c2d42'>还款</h2>
<blockquote>
<p>示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">coin_symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">pair</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC_USDT</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">5.0036</span><span class="dl">"</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/borrowOrder/refund</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/borrowOrder/refund</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>true</td>
<td>string</td>
<td>需要还款的币种</td>
<td></td>
<td>EOS, BTC, USDT</td>
</tr>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>需要还款的仓位</td>
<td></td>
<td>BTC_USDT, *_USDT</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>double</td>
<td>还款数量</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">

</span></code></pre></div><h2 id='dd6f684982'>发布放贷单</h2>
<blockquote>
<p>示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">coin_symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EOS</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">5</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">interest_rate</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.001</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">is_insurance</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">force</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/lendOrderbook/publish</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/lendOrderbook/publish</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>coin_symbol</td>
<td>true</td>
<td>string</td>
<td>交易币种</td>
<td></td>
<td>USDT, EOS, ...</td>
</tr>
<tr>
<td>amount</td>
<td>true</td>
<td>double</td>
<td>放款数量</td>
<td></td>
<td></td>
</tr>
<tr>
<td>interest_rate</td>
<td>true</td>
<td>double</td>
<td>放款利率</td>
<td></td>
<td></td>
</tr>
<tr>
<td>is_insurance</td>
<td>true</td>
<td>integer</td>
<td>是否开启保险</td>
<td></td>
<td>0或1</td>
</tr>
<tr>
<td>force</td>
<td>true</td>
<td>integer</td>
<td></td>
<td></td>
<td>1</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">

</span></code></pre></div><h2 id='e5f9383c76'>撤销放贷单</h2>
<blockquote>
<p>示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
     <span class="dl">"</span><span class="s2">orderbook_id</span><span class="dl">"</span><span class="p">:</span><span class="mi">9064</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/lendOrderbook/cancel</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/lendOrderbook/cancel</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>orderbook_id</td>
<td>true</td>
<td>integer</td>
<td>订单id</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">

</span></code></pre></div><h2 id='6ead73496b'>信用账户下单</h2>
<blockquote>
<p>示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">account_type</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">pair</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTC_USDT</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">100</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">money</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">100.0000</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">order_side</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/trade/trade</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/trade/trade</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>account_type</td>
<td>integer</td>
<td>账户类型 1-逐仓账户 257-全仓账户</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_type</td>
<td>integer</td>
<td>交易类型  2-限价单</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>order_side</td>
<td>integer</td>
<td>交易方向 1-买，2-卖</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>委托价格 最小值 0.00000001</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>委托数量  最小值 0.0001</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>money</td>
<td>string</td>
<td>委托金额</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>orders_id</td>
<td>订单id</td>
</tr>
</tbody></table>
<h2 id='ee537408ce'>信用账户撤单</h2>
<blockquote>
<p>示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span> <span class="c1">// 1.当前时间戳</span>

<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">orders_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">4631142976192513</span><span class="dl">"</span>               <span class="c1">//委托单id</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 2.格式化参数</span>

<span class="kd">let</span> <span class="nx">strToSign</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">strParam</span><span class="p">;</span> <span class="c1">// 3.这就是需要签名的字符串</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//your apikey</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">"</span><span class="p">;</span> <span class="c1">//你的 apikey 密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strToSign</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span><span class="c1">//4.签名后的结果</span>

<span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.bibox.com/v3.1/credit/trade/cancel</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span><span class="c1">//请求路径</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span><span class="c1">//请求方式</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="c1">//5.设置请求头</span>
            <span class="dl">'</span><span class="s1">content-type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-key</span><span class="dl">'</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-api-sign</span><span class="dl">'</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">bibox-timestamp</span><span class="dl">'</span><span class="p">:</span> <span class="nx">timestamp</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">strParam</span> <span class="c1">// 6.格式化参数</span>
    <span class="p">},</span>

    <span class="kd">function</span> <span class="nx">optionalCallback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">httpResponse</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">upload failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="c1">// 7.返回值</span>

    <span class="p">});</span>

</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>POST https://api.bibox.com/v3.1/credit/trade/cancel</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>orders_id</td>
<td>true</td>
<td>string</td>
<td>委托单id</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">

</span></code></pre></div><h1 id='websocket'>WebSocket</h1><h2 id='kline'>订阅 Kline 数据</h2>
<blockquote>
<p>完整例子</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="kd">const</span> <span class="nx">WebSocket</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ws</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">zlib</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">zlib</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">biboxws</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">wss://push.bibox.me</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">wsClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_decodeMsg</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="c1">// console.log(Buffer.from(data, 'base64'))</span>
        <span class="nx">zlib</span><span class="p">.</span><span class="nx">unzip</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="dl">'</span><span class="s1">base64</span><span class="dl">'</span><span class="p">),</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">reject</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">try</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">_decodeMsg</span><span class="dl">'</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
                <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">_decodeMsg catch</span><span class="dl">'</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
                <span class="nx">reject</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_consumerMsg</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">binary</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">that</span><span class="p">.</span><span class="nx">_decodeMsg</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_initWs</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="nx">biboxws</span><span class="p">);</span>
    <span class="nx">that</span><span class="p">.</span><span class="nx">ws</span> <span class="o">=</span> <span class="nx">ws</span><span class="p">;</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">open</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="na">event</span><span class="p">:</span> <span class="dl">'</span><span class="s1">addChannel</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">channel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bibox_sub_spot_BTC_USDT_kline_1min</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">binary</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="na">ver</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="p">}));</span>
        <span class="p">}</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">close</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">close, </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">));</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">));</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
        <span class="kd">let</span> <span class="nx">jdata</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// 获得数据</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">jdata</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">jdata</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">item</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">that</span><span class="p">.</span><span class="nx">_consumerMsg</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">wsClass</span><span class="p">();</span>

<span class="nx">instance</span><span class="p">.</span><span class="nx">_initWs</span><span class="p">().</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">});</span>

</code></pre></div>
<ul>
<li>1.订阅路径</li>
</ul>

<p>wss://push.bibox.me</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>交易对，BTC_USDT, ETH_USDT</td>
</tr>
<tr>
<td>period</td>
<td>true</td>
<td>string</td>
<td>K线周期</td>
<td></td>
<td>1min, 5min, 15min, 30min, 1hour, 2hour, 4hour, 6hour, 12hour, day, week</td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>string</td>
<td>行为</td>
<td></td>
<td>&#39;addChannel&#39;</td>
</tr>
<tr>
<td>channel</td>
<td>true</td>
<td>string</td>
<td></td>
<td></td>
<td>&#39;bibox_sub_spot_&#39; + ${pair} + &#39;_kline_&#39; + ${period}</td>
</tr>
<tr>
<td>binary</td>
<td>true</td>
<td>int</td>
<td></td>
<td></td>
<td>0</td>
</tr>
<tr>
<td>ver</td>
<td>true</td>
<td>int</td>
<td></td>
<td></td>
<td>0</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"bibox_sub_spot_BTC_USDT_kline_1min"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"binary"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"time"</span><span class="p">:</span><span class="mi">1604326320000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"13365.29000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"13366.59990000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"13349.58700000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"13352.61990000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"42.19560000"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"time"</span><span class="p">:</span><span class="mi">1604326380000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"open"</span><span class="p">:</span><span class="s2">"13352.63000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"13352.67000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"13352.58000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"close"</span><span class="p">:</span><span class="s2">"13352.58990000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"17.27390000"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>time</td>
<td>k线某周期开始时间</td>
</tr>
<tr>
<td>open</td>
<td>开盘价</td>
</tr>
<tr>
<td>high</td>
<td>最高价</td>
</tr>
<tr>
<td>low</td>
<td>最低价</td>
</tr>
<tr>
<td>close</td>
<td>收盘价</td>
</tr>
<tr>
<td>vol</td>
<td>成交量(合约价值)</td>
</tr>
<tr>
<td>binary</td>
<td>0代表数据没有压缩，1代表数据压缩了</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='market'>订阅 Market 数据</h2>
<blockquote>
<p>完整例子</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="kd">const</span> <span class="nx">WebSocket</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ws</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">zlib</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">zlib</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">biboxws</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">wss://push.bibox.me</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">wsClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_decodeMsg</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="c1">// console.log(Buffer.from(data, 'base64'))</span>
        <span class="nx">zlib</span><span class="p">.</span><span class="nx">unzip</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="dl">'</span><span class="s1">base64</span><span class="dl">'</span><span class="p">),</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">reject</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">try</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">_decodeMsg</span><span class="dl">'</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
                <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">_decodeMsg catch</span><span class="dl">'</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
                <span class="nx">reject</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_consumerMsg</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">binary</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">that</span><span class="p">.</span><span class="nx">_decodeMsg</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_initWs</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="nx">biboxws</span><span class="p">);</span>
    <span class="nx">that</span><span class="p">.</span><span class="nx">ws</span> <span class="o">=</span> <span class="nx">ws</span><span class="p">;</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">open</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="na">event</span><span class="p">:</span> <span class="dl">'</span><span class="s1">addChannel</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">channel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bibox_sub_spot_ALL_ALL_market</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">binary</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="na">ver</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="p">}));</span>
        <span class="p">}</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">close</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">close, </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">));</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">));</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
        <span class="kd">let</span> <span class="nx">jdata</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// 获得数据</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">jdata</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">jdata</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">item</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">that</span><span class="p">.</span><span class="nx">_consumerMsg</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">wsClass</span><span class="p">();</span>

<span class="nx">instance</span><span class="p">.</span><span class="nx">_initWs</span><span class="p">().</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">});</span>

</code></pre></div>
<ul>
<li>1.订阅路径</li>
</ul>

<p>wss://push.bibox.me</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>binary</td>
<td>true</td>
<td>int</td>
<td></td>
<td></td>
<td>0</td>
</tr>
<tr>
<td>ver</td>
<td>true</td>
<td>int</td>
<td></td>
<td></td>
<td>8</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"bibox_sub_spot_ALL_ALL_market"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"binary"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"0.00006604"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"0.00006712"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"0.00006421"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"change"</span><span class="p">:</span><span class="s2">"+0.00000121"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"percent"</span><span class="p">:</span><span class="s2">"+1.87%"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vol24H"</span><span class="p">:</span><span class="s2">"54475636"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"3571.11"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last_cny"</span><span class="p">:</span><span class="s2">"2.91"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"high_cny"</span><span class="p">:</span><span class="s2">"2.95"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"low_cny"</span><span class="p">:</span><span class="s2">"2.83"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last_usd"</span><span class="p">:</span><span class="s2">"0.42"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"high_usd"</span><span class="p">:</span><span class="s2">"0.43"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"low_usd"</span><span class="p">:</span><span class="s2">"0.41"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"0.00190235"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"0.00192190"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"0.00181724"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"change"</span><span class="p">:</span><span class="s2">"+0.00008058"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"percent"</span><span class="p">:</span><span class="s2">"+4.42%"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vol24H"</span><span class="p">:</span><span class="s2">"32059017"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"59861.18"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last_cny"</span><span class="p">:</span><span class="s2">"2.90"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"high_cny"</span><span class="p">:</span><span class="s2">"2.93"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"low_cny"</span><span class="p">:</span><span class="s2">"2.77"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last_usd"</span><span class="p">:</span><span class="s2">"0.42"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"high_usd"</span><span class="p">:</span><span class="s2">"0.42"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"low_usd"</span><span class="p">:</span><span class="s2">"0.40"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>id</td>
<td>交易对id</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>交易币种</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>定价币种</td>
</tr>
<tr>
<td>last</td>
<td>24h最新价</td>
</tr>
<tr>
<td>high</td>
<td>24h最高价</td>
</tr>
<tr>
<td>low</td>
<td>24h最低价</td>
</tr>
<tr>
<td>change</td>
<td>24h涨跌</td>
</tr>
<tr>
<td>percent</td>
<td>24h涨跌幅</td>
</tr>
<tr>
<td>vol24H</td>
<td>24h成交量</td>
</tr>
<tr>
<td>amount</td>
<td>24h成交额</td>
</tr>
<tr>
<td>last_cny</td>
<td>24h最新价折算cny</td>
</tr>
<tr>
<td>high_cny</td>
<td>24h最高价折算cny</td>
</tr>
<tr>
<td>low_cny</td>
<td>24h最低价折算cny</td>
</tr>
<tr>
<td>last_usd</td>
<td>24h最新价折算usd</td>
</tr>
<tr>
<td>high_usd</td>
<td>24h最高价折算usd</td>
</tr>
<tr>
<td>low_usd</td>
<td>24h最低价折算usd</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='depth'>订阅 Depth 数据</h2>
<blockquote>
<p>完整例子</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="kd">const</span> <span class="nx">WebSocket</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ws</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">zlib</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">zlib</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">biboxws</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">wss://push.bibox.me</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">wsClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_decodeMsg</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="c1">// console.log(Buffer.from(data, 'base64'))</span>
        <span class="nx">zlib</span><span class="p">.</span><span class="nx">unzip</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="dl">'</span><span class="s1">base64</span><span class="dl">'</span><span class="p">),</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">reject</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">try</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">_decodeMsg</span><span class="dl">'</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
                <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">_decodeMsg catch</span><span class="dl">'</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
                <span class="nx">reject</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_consumerMsg</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">binary</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">that</span><span class="p">.</span><span class="nx">_decodeMsg</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_initWs</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="nx">biboxws</span><span class="p">);</span>
    <span class="nx">that</span><span class="p">.</span><span class="nx">ws</span> <span class="o">=</span> <span class="nx">ws</span><span class="p">;</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">open</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="na">event</span><span class="p">:</span> <span class="dl">'</span><span class="s1">addChannel</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">channel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bibox_sub_spot_BIX_BTC_depth</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">binary</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="na">ver</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="p">}));</span>
        <span class="p">}</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">close</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">close, </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">));</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">));</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
        <span class="kd">let</span> <span class="nx">jdata</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// 获得数据</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">jdata</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">jdata</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">item</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">that</span><span class="p">.</span><span class="nx">_consumerMsg</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">wsClass</span><span class="p">();</span>

<span class="nx">instance</span><span class="p">.</span><span class="nx">_initWs</span><span class="p">().</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">});</span>

</code></pre></div>
<ul>
<li>1.订阅路径</li>
</ul>

<p>wss://push.bibox.me</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, BIX_ETH, BTC_USDT, ETH_USDT......</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"bibox_sub_spot_BIX_BTC_depth"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"binary"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BIX_BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"update_time"</span><span class="p">:</span><span class="mi">1536648343927</span><span class="p">,</span><span class="w">
            </span><span class="nl">"asks"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.0000683"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"volume"</span><span class="p">:</span><span class="s2">"1048.8046"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.00006831"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"volume"</span><span class="p">:</span><span class="s2">"1008.2509"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"bids"</span><span class="p">:[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.00006801"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"volume"</span><span class="p">:</span><span class="s2">"2.3472"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.00006793"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"volume"</span><span class="p">:</span><span class="s2">"0.3458"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>pair</td>
<td>交易对</td>
</tr>
<tr>
<td>update_time</td>
<td>时间戳</td>
</tr>
<tr>
<td>asks</td>
<td>卖方深度</td>
</tr>
<tr>
<td>bids</td>
<td>买方深度</td>
</tr>
<tr>
<td>price</td>
<td>委托价格</td>
</tr>
<tr>
<td>volume</td>
<td>委托数量</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='deals'>订阅 Deals 数据</h2>
<blockquote>
<p>完整例子</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="kd">const</span> <span class="nx">WebSocket</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ws</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">zlib</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">zlib</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">biboxws</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">wss://push.bibox.me</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">wsClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_decodeMsg</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="c1">// console.log(Buffer.from(data, 'base64'))</span>
        <span class="nx">zlib</span><span class="p">.</span><span class="nx">unzip</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="dl">'</span><span class="s1">base64</span><span class="dl">'</span><span class="p">),</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">reject</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">try</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">_decodeMsg</span><span class="dl">'</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
                <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">_decodeMsg catch</span><span class="dl">'</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
                <span class="nx">reject</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_consumerMsg</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">binary</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">that</span><span class="p">.</span><span class="nx">_decodeMsg</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_initWs</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="nx">biboxws</span><span class="p">);</span>
    <span class="nx">that</span><span class="p">.</span><span class="nx">ws</span> <span class="o">=</span> <span class="nx">ws</span><span class="p">;</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">open</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="na">event</span><span class="p">:</span> <span class="dl">'</span><span class="s1">addChannel</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">channel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bibox_sub_spot_BIX_BTC_deals</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">binary</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="na">ver</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
            <span class="p">}));</span>
        <span class="p">}</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">close</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">close, </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">));</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">));</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
        <span class="kd">let</span> <span class="nx">jdata</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// 获得数据</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">jdata</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">jdata</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">item</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">that</span><span class="p">.</span><span class="nx">_consumerMsg</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">wsClass</span><span class="p">();</span>

<span class="nx">instance</span><span class="p">.</span><span class="nx">_initWs</span><span class="p">().</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">});</span>

</code></pre></div>
<ul>
<li>1.订阅路径</li>
</ul>

<p>wss://push.bibox.me</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, BIX_ETH, BTC_USDT, ETH_USDT......</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"bibox_sub_spot_BIX_BTC_deals"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"binary"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BIX_BTC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.00006788"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"9705.9732"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time"</span><span class="p">:</span><span class="mi">1536648308000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"side"</span><span class="p">:</span><span class="mi">2</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BIX_BTC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.00006788"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"11914.8712"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time"</span><span class="p">:</span><span class="mi">1536648308000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"side"</span><span class="p">:</span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>pair</td>
<td>交易对</td>
</tr>
<tr>
<td>price</td>
<td>成交价格</td>
</tr>
<tr>
<td>amount</td>
<td>成交数量</td>
</tr>
<tr>
<td>time</td>
<td>成交时间</td>
</tr>
<tr>
<td>side</td>
<td>taker成交方向，1-买，2-卖</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='ticker'>订阅 Ticker 数据</h2>
<blockquote>
<p>完整例子</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="kd">const</span> <span class="nx">WebSocket</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ws</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">zlib</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">zlib</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">biboxws</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">wss://push.bibox.me</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">wsClass</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_decodeMsg</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="c1">// console.log(Buffer.from(data, 'base64'))</span>
        <span class="nx">zlib</span><span class="p">.</span><span class="nx">unzip</span><span class="p">(</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="dl">'</span><span class="s1">base64</span><span class="dl">'</span><span class="p">),</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">reject</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">try</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">_decodeMsg</span><span class="dl">'</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
                <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
                <span class="nx">resolve</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">_decodeMsg catch</span><span class="dl">'</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
                <span class="nx">reject</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_consumerMsg</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">binary</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">that</span><span class="p">.</span><span class="nx">_decodeMsg</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">wsClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_initWs</span> <span class="o">=</span> <span class="k">async</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="nx">biboxws</span><span class="p">);</span>
    <span class="nx">that</span><span class="p">.</span><span class="nx">ws</span> <span class="o">=</span> <span class="nx">ws</span><span class="p">;</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">open</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="na">event</span><span class="p">:</span> <span class="dl">'</span><span class="s1">addChannel</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">channel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bibox_sub_spot_BIX_BTC_ticker</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">binary</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="na">ver</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
            <span class="p">}));</span>
        <span class="p">}</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">close</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">close, </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">));</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">));</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
        <span class="kd">let</span> <span class="nx">jdata</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// 获得数据</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">jdata</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">jdata</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">item</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">that</span><span class="p">.</span><span class="nx">_consumerMsg</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">wsClass</span><span class="p">();</span>

<span class="nx">instance</span><span class="p">.</span><span class="nx">_initWs</span><span class="p">().</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">});</span>

</code></pre></div>
<ul>
<li>1.订阅路径</li>
</ul>

<p>wss://push.bibox.me</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>true</td>
<td>string</td>
<td>交易对</td>
<td></td>
<td>BIX_BTC, BIX_ETH, BTC_USDT, ETH_USDT......</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"bibox_sub_spot_BIX_BTC_deals"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"binary"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"pair"</span><span class="p">:</span><span class="s2">"BIX_BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="s2">"0.00006837"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last_usd"</span><span class="p">:</span><span class="s2">"0.43"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last_cny"</span><span class="p">:</span><span class="s2">"2.96"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high"</span><span class="p">:</span><span class="s2">"0.00007401"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low"</span><span class="p">:</span><span class="s2">"0.00006628"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"buy"</span><span class="p">:</span><span class="s2">"0.00006814"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"buy_amount"</span><span class="p">:</span><span class="s2">"2654.5376"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sell"</span><span class="p">:</span><span class="s2">"0.00006876"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sell_amount"</span><span class="p">:</span><span class="s2">"170.3094"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"vol"</span><span class="p">:</span><span class="s2">"48027601"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"percent"</span><span class="p">:</span><span class="s2">"-6.73%"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1536650154258</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base_last_cny"</span><span class="p">:</span><span class="s2">"2.96838961"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<ul>
<li>3.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>pair</td>
<td>交易对symbol</td>
</tr>
<tr>
<td>buy</td>
<td>最新买一价</td>
</tr>
<tr>
<td>buy_amount</td>
<td>买一量</td>
</tr>
<tr>
<td>sell</td>
<td>最新卖一价</td>
</tr>
<tr>
<td>sell_amount</td>
<td>卖一量</td>
</tr>
<tr>
<td>high</td>
<td>24h最高价</td>
</tr>
<tr>
<td>last</td>
<td>最新成交价</td>
</tr>
<tr>
<td>low</td>
<td>24h最低价</td>
</tr>
<tr>
<td>timestamp</td>
<td>时间戳</td>
</tr>
<tr>
<td>vol</td>
<td>24h成交量</td>
</tr>
<tr>
<td>percent</td>
<td>24h涨跌幅</td>
</tr>
<tr>
<td>last_cny</td>
<td>最新成交价，cny计价</td>
</tr>
<tr>
<td>last_usd</td>
<td>最新成交价，usd计价</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='b16a0fda36'>订阅用户数据方法</h2>
<blockquote>
<p>实际例子</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">WebSocket</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ws</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">CryptoJS</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">crypto-js</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">biboxws</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">wss://push.bibox.me</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// 1.请求路径</span>

<span class="kd">let</span> <span class="nx">apikey</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">900625568558820892a8c833c33ebc8fd2701efe</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// 你的apikey</span>
<span class="kd">let</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>  <span class="c1">// 定义参数对象param，需要用到apikey</span>
    <span class="dl">"</span><span class="s2">apikey</span><span class="dl">"</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">channel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bibox_sub_spot_ALL_ALL_login</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">event</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">addChannel</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">strParam</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">param</span><span class="p">);</span> <span class="c1">// 格式化参数对象param，得到strParam</span>
<span class="kd">let</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">c708ac3e70d115ec29efbee197330627d7edf842</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// apikey的密码</span>
<span class="kd">let</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacMD5</span><span class="p">(</span><span class="nx">strParam</span><span class="p">,</span> <span class="nx">secret</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span> <span class="c1">// 用apikey的密码secret对strParam进行HmacMD5签名，得到签名结果sign</span>
<span class="kd">let</span> <span class="nx">wsparam</span> <span class="o">=</span> <span class="p">{</span>  <span class="c1">// 2.请求参数</span>
    <span class="dl">"</span><span class="s2">apikey</span><span class="dl">"</span><span class="p">:</span> <span class="nx">apikey</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">channel</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bibox_sub_spot_ALL_ALL_login</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">event</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">addChannel</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">sign</span><span class="dl">"</span><span class="p">:</span> <span class="nx">sign</span><span class="p">,</span>
<span class="p">};</span>


<span class="kd">let</span> <span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="kd">let</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="nx">biboxws</span><span class="p">);</span>

    <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">ws</span> <span class="o">&amp;&amp;</span> <span class="nx">ws</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="nx">WebSocket</span><span class="p">.</span><span class="nx">OPEN</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">manu ping</span><span class="dl">'</span><span class="p">);</span>
            <span class="nx">ws</span><span class="p">.</span><span class="nx">ping</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="mi">1000</span> <span class="o">*</span> <span class="mi">10</span><span class="p">);</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">open</span><span class="p">()</span> <span class="p">{</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">)</span>
        <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">wsparam</span><span class="p">));</span>

    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">close</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">close, </span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">ping</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">pong</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
    <span class="p">});</span>

    <span class="nx">ws</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">incoming</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">jdata</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// 返回结果</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jdata</span><span class="p">.</span><span class="nx">ping</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="p">});</span>
<span class="p">};</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{};</span>

<span class="nx">init</span><span class="p">();</span>


</code></pre></div>
<ul>
<li>1.请求路径</li>
</ul>

<p>wss://push.bibox.me</p>

<ul>
<li>2.请求参数</li>
</ul>

<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td>true</td>
<td>string</td>
<td>您在Bibox交易所申请的apikey</td>
<td></td>
<td></td>
</tr>
<tr>
<td>sign</td>
<td>true</td>
<td>string</td>
<td>使用您在Bibox交易所申请的apisecret对整个请求数据进行签名</td>
<td></td>
<td></td>
</tr>
<tr>
<td>event</td>
<td>true</td>
<td>string</td>
<td>行为</td>
<td></td>
<td>&#39;addChannel&#39;</td>
</tr>
<tr>
<td>channel</td>
<td>true</td>
<td>string</td>
<td></td>
<td></td>
<td>&#39;bibox_sub_spot_ALL_ALL_login&#39;</td>
</tr>
</tbody></table>

<ul>
<li>3.签名方法</li>
</ul>

<p>1.定义参数对象param，需要用到apikey</p>

<p>let apikey = &#39;thisisyourapikey&#39;; </p>

<p>let param = {
     &quot;apikey&quot;: apikey,
     &quot;channel&quot;: &quot;bibox_sub_spot_ALL_ALL_login&quot;,
     &quot;event&quot;: &quot;addChannel&quot;
   };</p>

<p>2.格式化参数对象param，得到strParam</p>

<p>let strParam = JSON.stringify(param);</p>

<p>3.用apikey的密码secret对strParam进行HmacMD5签名，得到签名结果sign</p>

<p>let CryptoJS = require(&quot;crypto-js&quot;);</p>

<p>let secret = &#39;c708ac3e70d115ec29efbee197330627d7edf842&#39;;</p>

<p>let sign = CryptoJS.HmacMD5(strParam, secret).toString();  </p>

<p>4.生成订阅参数 wsparam</p>

<p>let wsparam = {
     &quot;apikey&quot;: apikey,
     &quot;channel&quot;: &quot;bibox_sub_spot_ALL_ALL_login&quot;,
     &quot;event&quot;: &quot;addChannel&quot;,
      &quot;sign&quot;: sign,
    };</p>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"bibox_sub_spot_ALL_ALL_login"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"binary"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"result"</span><span class="p">:</span><span class="s2">"订阅成功"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<ul>
<li>4.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>result</td>
<td>&quot;订阅成功&quot; 代表订阅成功</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='94d36f91c3'>订阅用户数据解析币币资产</h2>
<ul>
<li>1.关键字段</li>
</ul>

<p>assets</p>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"bibox_sub_spot_ALL_ALL_login"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"binary"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
             </span><span class="nl">"assets"</span><span class="p">:{</span><span class="w">
                 </span><span class="nl">"normal"</span><span class="p">:{</span><span class="w"> 
                     </span><span class="nl">"BIX"</span><span class="p">:{</span><span class="w">
                         </span><span class="nl">"balance"</span><span class="p">:</span><span class="s2">"497.59601765"</span><span class="p">,</span><span class="w">
                         </span><span class="nl">"freeze"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="w">  
                     </span><span class="p">},</span><span class="w">
                     </span><span class="nl">"USDT"</span><span class="p">:{</span><span class="w">
                         </span><span class="nl">"balance"</span><span class="p">:</span><span class="s2">"20.52027574"</span><span class="p">,</span><span class="w">
                         </span><span class="nl">"freeze"</span><span class="p">:</span><span class="s2">"22.12000000"</span><span class="w">
                     </span><span class="p">}</span><span class="w">
                 </span><span class="p">}</span><span class="w">
             </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<ul>
<li>2.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>normal</td>
<td>现货账户资产</td>
</tr>
<tr>
<td>balance</td>
<td>可用资产</td>
</tr>
<tr>
<td>freeze</td>
<td>冻结资产</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='7cf1beb640'>订阅用户数据解析信用资产</h2>
<ul>
<li>1.关键字段</li>
</ul>

<p>assets</p>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"bibox_sub_spot_ALL_ALL_login"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"binary"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
             </span><span class="nl">"assets"</span><span class="p">:{</span><span class="w">
                 </span><span class="nl">"credit"</span><span class="p">:{</span><span class="w">
                     </span><span class="nl">"BIX_USDT"</span><span class="p">:{</span><span class="w">
                         </span><span class="nl">"BIX"</span><span class="p">:{</span><span class="w">
                             </span><span class="nl">"balance"</span><span class="p">:</span><span class="s2">"681.74441804"</span><span class="p">,</span><span class="w">
                             </span><span class="nl">"freeze"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="w">
                         </span><span class="p">},</span><span class="w">
                         </span><span class="nl">"USDT"</span><span class="p">:{</span><span class="w">
                             </span><span class="nl">"balance"</span><span class="p">:</span><span class="s2">"0.21698199"</span><span class="p">,</span><span class="w">
                             </span><span class="nl">"freeze"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="w">
                         </span><span class="p">}</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="nl">"BTC_USDT"</span><span class="p">:{</span><span class="w">
                         </span><span class="nl">"BTC"</span><span class="p">:{</span><span class="w">
                             </span><span class="nl">"balance"</span><span class="p">:</span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                             </span><span class="nl">"freeze"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="w">
                         </span><span class="p">},</span><span class="w">
                         </span><span class="nl">"USDT"</span><span class="p">:{</span><span class="w">
                             </span><span class="nl">"balance"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                             </span><span class="nl">"freeze"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="w">
                         </span><span class="p">}</span><span class="w">
                     </span><span class="p">}</span><span class="w">
                 </span><span class="p">}</span><span class="w">
             </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<ul>
<li>2.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>credit</td>
<td>信用账户资产</td>
</tr>
<tr>
<td>balance</td>
<td>可用资产</td>
</tr>
<tr>
<td>freeze</td>
<td>冻结资产</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='8f20335c84'>订阅用户数据解析币币委托单</h2>
<ul>
<li>1.关键字段</li>
</ul>

<p>orderpending</p>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"bibox_sub_spot_ALL_ALL_login"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"binary"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"orderpending"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"12875281286404369"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"client_oid"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"account_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.053000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_price"</span><span class="p">:</span><span class="s2">"0.000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"100.0000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vamount"</span><span class="p">:</span><span class="s2">"100.0000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_amount"</span><span class="p">:</span><span class="s2">"0.0000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"money"</span><span class="p">:</span><span class="s2">"5.30000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_money"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_count"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deal_percent"</span><span class="p">:</span><span class="s2">"0.00%"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_from"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_side"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unexecuted"</span><span class="p">:</span><span class="s2">"100.0000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1604325924719</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<ul>
<li>2.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>count</td>
<td>当前页记录数，若存在下页，count=当前页记录数+1</td>
</tr>
<tr>
<td>page</td>
<td>第几页，从1开始</td>
</tr>
<tr>
<td>items</td>
<td>充值记录列表</td>
</tr>
<tr>
<td>id</td>
<td>订单id</td>
</tr>
<tr>
<td>client_oid</td>
<td>自定义id</td>
</tr>
<tr>
<td>createdAt</td>
<td>创建时间</td>
</tr>
<tr>
<td>account_type</td>
<td>账户类型 0-币币账户</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>交易币种</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>定价币种</td>
</tr>
<tr>
<td>order_side</td>
<td>交易方向，1-买，2-卖</td>
</tr>
<tr>
<td>order_type</td>
<td>订单类型，1-市价单，2-限价单</td>
</tr>
<tr>
<td>price</td>
<td>委托价格，市价单是0</td>
</tr>
<tr>
<td>amount</td>
<td>委托数量，市价买单是0</td>
</tr>
<tr>
<td>money</td>
<td>委托金额，市价卖单是0</td>
</tr>
<tr>
<td>deal_amount</td>
<td>成交数量</td>
</tr>
<tr>
<td>deal_percent</td>
<td>成交百分比</td>
</tr>
<tr>
<td>unexecuted</td>
<td>未成交数量</td>
</tr>
<tr>
<td>status</td>
<td>状态，-1 失败 0或1-待成交, 2-部分成交，3-完全成交，4-部分撤销，5-完全撤销，6-待撤销</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h2 id='0562f6517b'>订阅用户数据解析币币成交详情</h2>
<ul>
<li>1.关键字段</li>
</ul>

<p>history</p>

<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"channel"</span><span class="p">:</span><span class="s2">"bibox_sub_spot_ALL_ALL_login"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"binary"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data_type"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"history"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"2251799825471069694"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"account_type"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"coin_symbol"</span><span class="p">:</span><span class="s2">"BIX"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency_symbol"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="s2">"0.050921"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="s2">"64.2237"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"money"</span><span class="p">:</span><span class="s2">"3.27033502"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fee"</span><span class="p">:</span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_from"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_side"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"order_type"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nl">"is_maker"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"relay_id"</span><span class="p">:</span><span class="s2">"12939052839213054"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1604387364308</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div>
<ul>
<li>2.返回字段</li>
</ul>

<table><thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>state</td>
<td>0代表成功，否则代表失败</td>
</tr>
<tr>
<td>id</td>
<td>成交记录id</td>
</tr>
<tr>
<td>createdAt</td>
<td>成交时间</td>
</tr>
<tr>
<td>account_type</td>
<td>账户类型 0-币币账户</td>
</tr>
<tr>
<td>coin_symbol</td>
<td>交易币种</td>
</tr>
<tr>
<td>currency_symbol</td>
<td>定价币种</td>
</tr>
<tr>
<td>order_side</td>
<td>交易方向，1-买，2-卖</td>
</tr>
<tr>
<td>order_type</td>
<td>订单类型，1-市价单，2-限价单</td>
</tr>
<tr>
<td>price</td>
<td>成交价格</td>
</tr>
<tr>
<td>amount</td>
<td>成交数量</td>
</tr>
<tr>
<td>money</td>
<td>成交金额</td>
</tr>
<tr>
<td>fee</td>
<td>手续费</td>
</tr>
<tr>
<td>is_maker</td>
<td>是否maker</td>
</tr>
<tr>
<td>relay_id</td>
<td>关联订单id</td>
</tr>
<tr>
<td>其它字段</td>
<td>忽略</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>3000</td>
<td>请求参数错误</td>
</tr>
<tr>
<td>3001</td>
<td>暂不支持该币种</td>
</tr>
<tr>
<td>3002</td>
<td>参数不能为空</td>
</tr>
<tr>
<td>3003</td>
<td>请输入Google验证码</td>
</tr>
<tr>
<td>3004</td>
<td>请输入短信验证码</td>
</tr>
<tr>
<td>3005</td>
<td>找不到该币种的父链</td>
</tr>
<tr>
<td>3006</td>
<td>没有配置该币种的服务器地址</td>
</tr>
<tr>
<td>3007</td>
<td>该币种不是erc20</td>
</tr>
<tr>
<td>3008</td>
<td>该币种没有合约地址</td>
</tr>
<tr>
<td>3009</td>
<td>推送订阅channel不合法</td>
</tr>
<tr>
<td>3010</td>
<td>websocket连接异常</td>
</tr>
<tr>
<td>3011</td>
<td>接口不支持apikey请求方式</td>
</tr>
<tr>
<td>3012</td>
<td>apikey无效</td>
</tr>
<tr>
<td>3013</td>
<td>该币种不是omni代币</td>
</tr>
<tr>
<td>3014</td>
<td>该币种没有propertyid</td>
</tr>
<tr>
<td>3015</td>
<td>程序内部错误</td>
</tr>
<tr>
<td>3016</td>
<td>交易对错误</td>
</tr>
<tr>
<td>3017</td>
<td>推送订阅event不合法</td>
</tr>
<tr>
<td>3018</td>
<td>查询可提现额度失败</td>
</tr>
<tr>
<td>3019</td>
<td>该币种未开启融资融币</td>
</tr>
<tr>
<td>3020</td>
<td>放款深度不足</td>
</tr>
<tr>
<td>3021</td>
<td>没有放款信息</td>
</tr>
<tr>
<td>3022</td>
<td>没有借款信息</td>
</tr>
<tr>
<td>3023</td>
<td>更新数据库失败</td>
</tr>
<tr>
<td>3024</td>
<td>apikey权限不足</td>
</tr>
<tr>
<td>3025</td>
<td>apikey签名验证失败</td>
</tr>
<tr>
<td>3026</td>
<td>apikey ip受限制</td>
</tr>
<tr>
<td>3027</td>
<td>账户没有apikey</td>
</tr>
<tr>
<td>3028</td>
<td>账户apikey数量超过了限制数量</td>
</tr>
<tr>
<td>3029</td>
<td>apikey允许ip数量超过了限制数量</td>
</tr>
<tr>
<td>3030</td>
<td>该Google验证码已经被使用过</td>
</tr>
<tr>
<td>3031</td>
<td>旧Google验证码已经被使用过</td>
</tr>
<tr>
<td>3032</td>
<td>没有可还的放贷单</td>
</tr>
<tr>
<td>3033</td>
<td>查询类请求只能有一个cmd</td>
</tr>
<tr>
<td>3034</td>
<td>最多cmd数限制</td>
</tr>
<tr>
<td>3035</td>
<td>cmd个数限制</td>
</tr>
<tr>
<td>3036</td>
<td>提现数量不能少于最小提现数</td>
</tr>
<tr>
<td>3037</td>
<td>账户资产异常</td>
</tr>
<tr>
<td>3038</td>
<td>qtum gethexaddress失败</td>
</tr>
<tr>
<td>3039</td>
<td>可锁仓量不足</td>
</tr>
<tr>
<td>3040</td>
<td>活动未开始</td>
</tr>
<tr>
<td>3041</td>
<td>暂不支持非压缩数据订阅</td>
</tr>
<tr>
<td>3042</td>
<td>最小数量限制</td>
</tr>
<tr>
<td>3043</td>
<td>不能包含特殊字符</td>
</tr>
<tr>
<td>3044</td>
<td>重复下单</td>
</tr>
<tr>
<td>3045</td>
<td>交易对订单数量限制</td>
</tr>
<tr>
<td>3046</td>
<td>交易对持仓数量限制</td>
</tr>
<tr>
<td>3047</td>
<td>invalid id, id must be string and length &gt; 10</td>
</tr>
<tr>
<td>3048</td>
<td>响应验签失败</td>
</tr>
<tr>
<td>3049</td>
<td>超出数量限制</td>
</tr>
<tr>
<td>3050</td>
<td>子账户名不能纯数字</td>
</tr>
<tr>
<td>3051</td>
<td>strategy order number reaches the limit of pair</td>
</tr>
<tr>
<td>3052</td>
<td>strategy order number reaches the limit of account</td>
</tr>
<tr>
<td>3053</td>
<td>子账户无法进行该操作</td>
</tr>
<tr>
<td>3100</td>
<td>不支持该币种</td>
</tr>
<tr>
<td>3101</td>
<td>不支持该交易对</td>
</tr>
<tr>
<td>3102</td>
<td>全仓不支持该操作</td>
</tr>
<tr>
<td>3103</td>
<td>没有持仓不支持该操作</td>
</tr>
<tr>
<td>3104</td>
<td>有持仓不支持该操作</td>
</tr>
<tr>
<td>3105</td>
<td>可减少保证金不足</td>
</tr>
<tr>
<td>3106</td>
<td>有挂单不支持该操作</td>
</tr>
<tr>
<td>3107</td>
<td>FOK撤单</td>
</tr>
<tr>
<td>3108</td>
<td>post only撤单</td>
</tr>
<tr>
<td>3109</td>
<td>爆仓触发撤单</td>
</tr>
<tr>
<td>3110</td>
<td>ADL触发撤单</td>
</tr>
<tr>
<td>3111</td>
<td>爆仓价变化导致平仓单撤单</td>
</tr>
<tr>
<td>3112</td>
<td>order side参数错误</td>
</tr>
<tr>
<td>3113</td>
<td>order type参数错误</td>
</tr>
<tr>
<td>3114</td>
<td>side参数错误</td>
</tr>
<tr>
<td>3115</td>
<td>margin保证金错误</td>
</tr>
<tr>
<td>3116</td>
<td>model参数错误</td>
</tr>
<tr>
<td>3117</td>
<td>leverage参数错误</td>
</tr>
<tr>
<td>3118</td>
<td>amount参数错误</td>
</tr>
<tr>
<td>3119</td>
<td>price参数错误</td>
</tr>
<tr>
<td>3120</td>
<td>client_oid重复</td>
</tr>
<tr>
<td>3121</td>
<td>self trade参数错误</td>
</tr>
<tr>
<td>3122</td>
<td>time in force参数错误</td>
</tr>
<tr>
<td>3123</td>
<td>visible quantity参数错误</td>
</tr>
<tr>
<td>3124</td>
<td>cancel after参数错误</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
      <script>
        const lang_btn = document.getElementById('lang_box');
        const btn_spot = document.getElementById('btn_spot');
        const btn_contract = document.getElementById('btn_contract');
        const btn_contract_coin = document.getElementById('btn_contract_coin')

        const url = GetUrlRelativePath();

        if(url.indexOf('en') != -1){
          //英文

          lang_btn.innerHTML = '中文';
          btn_spot.innerHTML = 'Spot';
          btn_contract_coin.innerHTML = 'ContractCoin';
          btn_contract.innerHTML = 'Contract USDT';

          lang_btn.href = url.replace('en/', 'zh/');
          btn_spot.href = btn_spot.href.replace('zh/', 'en/');
          btn_contract_coin.href = btn_contract_coin.href.replace('zh/', 'en/');
          btn_contract.href = btn_contract.href.replace('zh/', 'en/');

        }else{
          //中文
          lang_btn.innerHTML = 'English';
          btn_spot.innerHTML = '现货';
          btn_contract_coin.innerHTML = '币本位永续合约';
          btn_contract.innerHTML = 'U本位永续合约';

          lang_btn.href = url.replace('zh/', 'en/');
          btn_spot.href = btn_spot.href.replace('en/', 'zh/');
          btn_contract_coin.href = btn_contract_coin.href.replace('en/', 'zh/');
          btn_contract.href = btn_contract.href.replace('en/', 'zh/');
        }

        if(location.href.indexOf('v3/spot/') > 0){
          btn_spot.className = 'current';
          btn_contract_coin.className = '';
          btn_contract.className = '';
        }
        else if(location.href.indexOf('v3/bc/') > 0){
          btn_spot.className = '';
          btn_contract_coin.className = 'current';
          btn_contract.className = '';
        }
        else if(location.href.indexOf('v3/contract/') > 0){
          btn_spot.className = '';
          btn_contract_coin.className = '';
          btn_contract.className = 'current';
        }

        lang_btn.style.display = 'block';
        function GetUrlRelativePath(){
          let url = document.location.toString();
          let arrUrl = url.split("//");
          let start = arrUrl[1].indexOf("/");
          let relUrl = arrUrl[1].substring(start);
          if(relUrl.indexOf("?") != -1){
            relUrl = relUrl.split("?")[0];
          }
          if(relUrl.indexOf("#") != -1){
            relUrl = relUrl.split("#")[0];
          }
          return relUrl;
    　　}
      </script>
</html>
